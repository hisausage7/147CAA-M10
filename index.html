<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>147測驗｜單一檔案版</title>

    <!-- 預先套用主題避免閃爍 -->
    <script>
      (function () {
        try {
          var saved = localStorage.getItem("theme");
          if (saved === "dark" || (!saved && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
            document.documentElement.classList.add("preload-dark");
            document.documentElement.setAttribute("data-theme", "dark");
          }
        } catch (e) {}
      })();
    </script>

    <style>
      :root {
        --bg: #f0f4f8;
        --txt: #000;
        --card: #fff;
        --rule: #e9ecef;
        --muted: #666;
        --primary: #007bff;
        --primary-800: #0056b3;
        --danger: #dc3545;
        --green: #28a745;
        --green-800: #218838;
        --teal: #17a2b8;
        --teal-800: #138496;
        --table-bd: #ccc;

        /* 正解強調（淺色） */
        --ans-chip-bg: #e7f6ec;
        --ans-chip-fg: #136d3a;
        --ans-row-bg: #f5fbf7;
        --ans-row-bd: #cce8d5;
      }
      body.dark {
        --bg: #121212;
        --txt: #fff;
        --card: #1e1e1e;
        --rule: #333;
        --table-bd: #444;
        --muted: #aaa;

        /* 正解強調（深色） */
        --ans-chip-bg: #1f3a29;
        --ans-chip-fg: #b9f6ca;
        --ans-row-bg: #12301f;
        --ans-row-bd: #2c5a3f;
      }

      html,
      body {
        height: 100%;
      }
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 40px;
        font-size: clamp(16px, 1.1vw + 12px, 24px);
        background: var(--bg);
        color: var(--txt);
        transition: background-color 0.4s, color 0.4s;
      }

      #container {
        max-width: 1320px;
        margin: auto;
        background: var(--card);
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        transition: background-color 0.4s, color 0.4s;
      }

      .hidden {
        display: none;
      }
      h1,
      h2 {
        text-align: center;
        font-size: 1.6em;
        margin: 0.2em 0 0.6em;
      }
      #rules {
        background: var(--rule);
        padding: 16px;
        margin-bottom: 28px;
        border-radius: 10px;
        font-size: 0.95em;
      }

      .btn {
        background: var(--primary);
        color: #fff;
        border: none;
        padding: 14px 24px;
        margin: 8px;
        border-radius: 10px;
        cursor: pointer;
        font-size: 0.95em;
        transition: background-color 0.2s, transform 0.1s;
        white-space: nowrap;
      }
      .btn:hover {
        background: var(--primary-800);
      }
      #leaveBtn {
        background: var(--danger);
      }
      #openBankBtn {
        background: var(--teal);
      }
      #openBankBtn:hover {
        background: var(--teal-800);
      }

      /* 進度條 */
      #progress,
      #timer {
        font-weight: bold;
        font-size: 1em;
      }
      .progress-container {
        background: #ddd;
        height: 10px;
        border-radius: 5px;
        margin-top: 14px;
        overflow: hidden;
      }
      body.dark .progress-container {
        background: #555;
      }
      .progress-bar {
        height: 100%;
        width: 0;
        background: var(--primary);
        transition: width 0.6s ease;
      }

      .question {
        margin: 24px 0 12px;
        font-size: 1.2em;
      }
      .options label {
        display: block;
        margin-bottom: 12px;
        font-size: 1em;
      }

      /* 表格與響應式容器 */
      .table-responsive {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 16px;
        font-size: 1em;
        min-width: 460px;
      }
      th,
      td {
        border: 1px solid var(--table-bd);
        padding: 12px 14px;
        text-align: left;
        vertical-align: top;
        color: var(--txt);
        word-break: break-word;
      }

      /* 錯題列色（深色模式改亮字） */
      tr.wrong {
        background-color: #ffe6e6;
      }
      body.dark tr.wrong {
        background-color: #5a1a1a;
      }
      body.dark tr.wrong td {
        color: #fff;
      }

      /* 正解強調 */
      .ans-chip {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 999px;
        background: var(--ans-chip-bg);
        color: var(--ans-chip-fg);
        font-size: 0.9em;
        margin-right: 6px;
      }
      .ans-cell {
        background: var(--ans-row-bg) !important;
        border-left: 3px solid var(--ans-row-bd) !important;
        color: var(--txt) !important;
      }
      .opt-row {
        display: block;
        padding: 4px 6px;
        margin: 2px 0;
        border-radius: 6px;
      }
      .opt-row.is-correct {
        background: var(--ans-row-bg) !important;
        border-left: 3px solid var(--ans-row-bd) !important;
        color: var(--txt) !important;
      }
      tr.wrong td.ans-cell {
        background: var(--ans-row-bg) !important;
        color: var(--txt) !important;
      }

      /* 右上角按鈕固定（位置不變） */
      #darkModeToggle,
      #homeBtn {
        position: fixed;
        right: 20px;
        padding: 10px 16px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.95em;
        z-index: 2000;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      #darkModeToggle {
        top: 20px;
        background: #333;
        color: #fff;
      }
      #darkModeToggle:hover {
        background: #555;
      }
      #homeBtn {
        top: 68px;
        background: var(--green);
        color: #fff;
        text-decoration: none;
      }
      #homeBtn:hover {
        background: var(--green-800);
      }

      .mono {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      }
      .muted {
        opacity: 0.8;
        color: var(--muted);
      }

      .panel {
        background: var(--rule);
        border-radius: 12px;
        padding: 14px;
        margin: 10px 0;
      }

      /* ====== ✅ 測驗頁置中（只影響 quiz） ====== */
      body.view-quiz {
        display: flex;
        align-items: center;
        justify-content: center;

        /* ✅ 避開右上固定按鈕區域，確保 timer 永遠不被蓋 */
        padding-top: 130px;
        padding-left: 20px;
        padding-right: 20px;
        padding-bottom: 40px;
      }
      body.view-quiz #container {
        margin: 0 auto;
        width: min(1320px, 100%);
      }

      /* 測驗頁頂部列（名字+timer） */
      .quiz-top {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* 小尺寸優化 */
      @media (max-width: 768px) {
        body {
          padding: 20px;
          font-size: clamp(14px, 2.2vw + 8px, 17px);
        }
        #container {
          padding: 20px;
          border-radius: 16px;
        }
        .btn {
          padding: 12px 16px;
          margin: 6px;
          font-size: 0.95em;
        }

        /* ✅ 測驗頁置中時也保留避開固定按鈕 */
        body.view-quiz {
          padding-top: 120px;
          padding-bottom: 30px;
        }

        /* ✅ 手機把 timer 變成下一行靠右，視覺更乾淨也不會靠近右上按鈕 */
        .quiz-top {
          flex-direction: column;
          align-items: flex-start;
        }
        #timer {
          align-self: flex-end;
          margin-left: 0;
          padding: 4px 10px;
          border-radius: 999px;
          background: rgba(0, 0, 0, 0.08);
        }
        body.dark #timer {
          background: rgba(255, 255, 255, 0.1);
        }
      }

      @media (max-width: 540px) {
        /* 手機上把「您的答案」隱藏，保留題目/正解/OX */
        #results table th:nth-child(2),
        #results table td:nth-child(2) {
          display: none;
        }
      }
      @media (max-width: 420px) {
        #bank .controls,
        #wrongReview .controls {
          display: grid;
          grid-template-columns: 1fr;
          gap: 8px;
        }
      }

      /* ====== ✅ 結算表格：題目欄加寬，避免被拉超長 ====== */
      #results table {
        min-width: 860px;
      }
      #results table th:nth-child(1),
      #results table td:nth-child(1) {
        width: 55%;
        min-width: 420px;
      }
      #results table th:nth-child(3),
      #results table td:nth-child(3) {
        width: 35%;
        min-width: 260px;
      }
      #results table th:nth-child(4),
      #results table td:nth-child(4) {
        width: 10%;
        min-width: 70px;
        text-align: center;
        white-space: nowrap;
      }

      @media (max-width: 540px) {
        /* 題目少換行，靠橫向滑動看完整 */
        #results table td:nth-child(1) {
          white-space: nowrap;
        }
      }

      /* 預載深色 */
      .preload-dark body,
      .preload-dark {
        background: #121212;
        color: #fff;
      }
    </style>
  </head>

  <body>
    <button id="darkModeToggle" aria-pressed="false">深色模式 / Dark Mode</button>
    <a id="homeBtn" href="https://hisausage7.github.io/147test/" title="回首頁">🏠 回首頁</a>

    <div id="container">
      <!-- 歡迎頁 -->
      <div id="welcome">
        <h1>147測驗M10-CAA</h1>

        <div id="rules">
          <p><strong>考試注意事項 / Exam Rules:</strong></p>
          <p>1. 請輸入姓名後才能開始作答。 / You must enter your name to start the quiz.</p>
          <p>2. 考試限時可自訂（預設 80 分鐘,可設定至999分鐘），開始後自動倒數。</p>
          <p>3. 作答途中可隨時點擊「離開考試」提前結束。</p>
          <p>4. 完成後會自動顯示所有答題結果與成績。</p>
          <p>5. 答對題目顯示O，答錯題目顯示X。</p>
          <p>6. 測驗過程為亂序出題。</p>
          <p>!版權及源代碼所有-航機系008沈崑宸!</p>
          <p>!僅作為自我測驗使用!</p>
          <p>!此章節不含圖片題</p>
         
        </div>

        <input
          type="text"
          id="nameInput"
          placeholder="輸入姓名 / Enter your name"
          style="width: 100%; padding: 8px; margin-bottom: 10px; font-size: 1em"
        />
        <input
          type="number"
          id="questionLimit"
          placeholder="輸入題數,至多226題 / Enter number of questions"
          style="width: 100%; padding: 8px; margin-bottom: 10px; font-size: 1em"
        />
        <input
          type="number"
          id="durationInput"
          value="80"
          min="1"
          max="999"
          placeholder="作答時間（分鐘，預設 80,可設定置999分鐘）"
          style="width: 100%; padding: 8px; margin-bottom: 10px; font-size: 1em"
        />

        <div style="text-align: center; display: flex; flex-wrap: wrap; justify-content: center">
          <button id="startBtn" class="btn">開始測驗 / Start Quiz</button>
          <button id="openWrongPanelFromWelcome" class="btn" style="background: #6f42c1">錯題記憶 / Wrong Memory</button>
          <button id="openBankBtn" class="btn">題庫瀏覽 / Browse Bank</button>
          <button id="clearSavedNameBtn" class="btn" style="background: #343a40">清除記住的姓名</button>
        </div>

        <div id="wrongMemInfoWelcome" class="muted" style="text-align: center; margin-top: 10px"></div>
      </div>

      <!-- 測驗頁 -->
      <div id="quiz" class="hidden">
        <div class="quiz-top">
          <span id="welcomeName"></span>
          <span id="timer" style="margin-left: auto">80:00</span>
        </div>

        <div class="mono" id="progress">題數: <span id="current">0</span> / <span id="total">0</span></div>
        <div class="progress-container"><div id="progressBar" class="progress-bar"></div></div>
        <div class="question" id="questionText"></div>
        <div class="options" id="options"></div>
        <div style="display: flex; gap: 10px; flex-wrap: wrap">
          <button id="prevBtn" class="btn" style="background: #6c757d">上一題 / Previous</button>
          <button id="leaveBtn" class="btn">離開考試 / Leave Quiz</button>
        </div>
      </div>

      <!-- 結果頁 -->
      <div id="results" class="hidden">
        <h2>測驗結果 / Results</h2>

        <div style="display: flex; flex-wrap: wrap; justify-content: center">
          <button id="retryBtn" class="btn">重新開始 / Retry</button>
          <button id="showWrongBtn" class="btn" style="background: #ffc107">只看錯題 / Wrong Only</button>
          <button id="showAllBtn" class="btn">看全部結果 / Show All</button>
          <button id="openWrongPanelFromResults" class="btn" style="background: #6f42c1">錯題記憶 / Wrong Memory</button>
          <button id="toBankFromResults" class="btn" style="background: #17a2b8">題庫瀏覽 / Browse Bank</button>
        </div>

        <div id="wrongMemInfoResults" class="muted" style="text-align: center; margin-top: 10px"></div>

        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>題目</th>
                <th>您的答案</th>
                <th>正確答案</th>
                <th>結果</th>
              </tr>
            </thead>
            <tbody id="resultsBody"></tbody>
          </table>
        </div>
        <div id="scoreSummary" style="text-align: center; margin-top: 12px; font-size: 1em"></div>
      </div>

      <!-- 錯題記憶畫面 -->
      <div id="wrongReview" class="hidden">
        <h2>錯題記憶 / Wrong Memory</h2>

        <div class="panel">
          <div class="muted" style="margin-bottom: 10px">
            這裡會列出你「仍然答錯過」的題目。你之後做對同一題，會自動從清單移除。
          </div>

          <div class="controls" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center; justify-content: center">
            <input
              id="wrongNameInput"
              type="text"
              placeholder="姓名（留空=使用首頁姓名或 _guest）"
              style="flex: 1; min-width: 240px; padding: 8px; font-size: 1em"
            />
            <input
              id="wrongQuestionLimit"
              type="number"
              placeholder="錯題測驗題數（留空=全部）"
              style="flex: 1; min-width: 240px; padding: 8px; font-size: 1em"
            />
            <input
              id="wrongDurationInput"
              type="number"
              value="80"
              min="1"
              max="999"
              placeholder="錯題測驗時間（分鐘）"
              style="flex: 1; min-width: 240px; padding: 8px; font-size: 1em"
            />
          </div>

          <div style="text-align: center; margin-top: 10px">
            <button id="startWrongQuizBtn" class="btn" style="background: #6f42c1">開始錯題測驗 / Start Wrong Quiz</button>
            <button id="clearWrongMemBtn" class="btn" style="background: #343a40">清除錯題記憶 / Clear Wrong</button>
            <button id="backToWelcomeFromWrong" class="btn" style="background: #6c757d">返回首頁 / Home</button>
            <button id="toBankFromWrong" class="btn" style="background: #17a2b8">題庫瀏覽 / Browse Bank</button>
          </div>

          <div id="wrongMemInfoPanel" class="muted" style="text-align: center; margin-top: 10px"></div>
        </div>

        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th style="width: 70px">#</th>
                <th>錯題題目</th>
                <th style="width: 28%">上次選的答案</th>
                <th style="width: 22%">正確答案</th>
                <th style="width: 180px">最後答錯時間</th>
              </tr>
            </thead>
            <tbody id="wrongListBody"></tbody>
          </table>
        </div>
      </div>

      <!-- 題庫瀏覽頁 -->
      <div id="bank" class="hidden">
        <h2>題庫瀏覽 / Question Bank</h2>
        <div class="controls">
          <input id="bankSearch" type="text" placeholder="關鍵字搜尋" />
          <label>
            每頁顯示
            <select id="perPage">
              <option value="5">5</option>
              <option value="10" selected>10</option>
              <option value="20">20</option>
              <option value="50">50</option>
              <option value="all">全部</option>
            </select>
            題
          </label>
          <button id="backToWelcome" class="btn" style="padding: 12px 18px">返回首頁 / Home</button>
        </div>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th style="width: 70px">#</th>
                <th>題目</th>
                <th style="width: 34%">選項</th>
                <th style="width: 160px">正確答案</th>
              </tr>
            </thead>
            <tbody id="bankBody"></tbody>
          </table>
        </div>
        <div class="pagination" style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 10px">
          <button id="prevPage" class="btn" style="padding: 10px 16px">上一頁</button>
          <span id="pageInfo" class="mono"></span>
          <button id="nextPage" class="btn" style="padding: 10px 16px">下一頁</button>
        </div>
        <div style="text-align: center; margin-top: 8px">
          <small class="muted">提示：可用右上角「深色模式」切換外觀；搜尋支援中英文與數字。</small>
        </div>
      </div>
    </div>
    

    <script>
            document.addEventListener("DOMContentLoaded", function () {
              const questions = [
  {
    question: "什麼不是航空人員？",
    options: [
      "A. 空服員",
      "B. 維修員",
      "C. 簽派員",
      "D. （未提供）"
    ],
    answer: "A"
  },
  {
    question: "特勤飛機最重的重量？（5700/6700/7700/8700）",
    options: ["A. 5700", "B. 6700", "C. 7700", "D. 8700"],
    answer: "A"
  },
  {
    question: "大型航空器、特技類航空器、通勤類航空器：起飛最大重量各為多少？（Ref: 07-02A 第54條；06-07A 第15、16條）",
    options: [],
    answer:
      "大型航空器：飛機最大起飛重量>5700公斤；直升機最大起飛重量>3175公斤。特技類航空器：載客座位數9人以下，最大起飛重量不逾5700公斤。通勤類航空器：載客座位數19人以下、最大起飛重量不逾8640公斤。"
  },
  {
    question: "維修人員證照幾年到期？如果過期超過半年要多久才可以再考？",
    options: [],
    answer: "維修工程師5年，不需要重考，過期12個月要重考"
  },
  { question: "術科可以考幾次？", options: [], answer: "3次" },
  { question: "飛機失事誰調查的？", options: [], answer: "行政院飛航安全委員會" },
  { question: "民航法是誰製訂？", options: [], answer: "立法院" },
  {
    question: "ATA 100 與 ATA 05 / ATA 55 各為何？",
    options: [],
    answer: "ATA 100 是一般商用飛機文件數字參考系統；ATA 05 TIME LIMITS/MAINTENANCE CHECKS；ATA 55 STABILIZERS"
  },
  {
    question: "簽放人員違規的罰則？（Ref: 民航法第112條）",
    options: [],
    answer: "處新台幣六十萬元以上三百萬元以下罰鍰"
  },
  {
    question: "787 的棚廠為哪一級？",
    options: [],
    answer: "二級（混合結構之航空器，其最大起飛總重超過五千七百公斤或一萬二千五百磅者。）"
  },
  {
    question: "航空器維護人員執勤時間於連續七日內，應給予幾小時休息？（Ref: 07-02A 第152條第1項）",
    options: ["A. 12小時", "B. 48小時", "C. 36小時", "D. 24小時"],
    answer: "D"
  },
  {
    question: "維修員術科檢定類別不包括： （Ref: 05-01A 第99條）",
    options: [
      "A. 特業維修類別(含其他經民航局核定者)",
      "B. 儀器類別、附件類別",
      "C. 旋翼機維護",
      "D. 螺旋槳類別、無線電設備類"
    ],
    answer: "C"
  },
  {
    question: "以下關於 MEL 規定的修復期限的敘述何者為非：",
    options: [
      "A. D類項目應該在一百二十個連續日內修復",
      "B. C類項目應該在十個連續日內修復",
      "C. A類項目應該在發現日當天修復",
      "D. B類項目應該在三個連續日曆日內修復"
    ],
    answer: "C"
  },
  {
    question: "製造廠違反有關航空產品與其各項裝備及零組件之設計、製造之檢定等規定： （Ref: 01-01A 第112條之8）",
    options: [
      "A. 期限改善，屆期未改善者，得按次處罰",
      "B. 無論情節，廢止其檢定證",
      "C. 處新台幣六十萬元以上三百萬元以下罰緩",
      "D. 得予警告或處新台幣六萬元以上三十萬元以下罰緩"
    ],
    answer: "D"
  },
  {
    question: "維修廠授權簽放人員增補、離職、調職或變更工作範圍時，應在多久內依規定修訂名冊？（Ref: 06-02A 第19條第2項）",
    options: ["A. 15個工作日", "B. 30個工作日", "C. 3個工作日", "D. 5個工作日"],
    answer: "D"
  },
  {
    question: "航空器飛航作業管理規則之立法是由： （Ref: 01-01A 民用航空法第41條之1第2項）",
    options: [
      "A. 由立法院通過，總統發布施行",
      "B. 行政院通過並公布施行",
      "C. 交通部通過並發布施行",
      "D. 民航局通過並函頒實施"
    ],
    answer: "C"
  },
  {
    question: "全天候(AWO)飛航作業包括： （Ref: AC120-007-1B/2B）",
    options: [
      "A. 低能見度下起飛和滑行",
      "B. Ⅰ類Ⅱ類Ⅲ類",
      "C. Ⅰ類Ⅱ類Ⅲ類以及低能見度下起飛和滑行",
      "D. 惡劣天候操作"
    ],
    answer: "C"
  },
  {
    question: "關於適航指令(AD)的描述下列何者正確：",
    options: [
      "A. 適航指令是由飛機、發動機及零件製造商發行的訊息公報",
      "B. 適航指令的遵守非強制性的，除非發生火警",
      "C. 適航指令的遵守是強制性的，而且需紀錄於永久性的維修紀錄",
      "D. 適航指令只需要符合飛機、發動機及零件製造商的要求"
    ],
    answer: "C"
  },
  {
    question: "下列何者非航空器失事、重大意外事件以外之飛安相關事件所為調查及處理報告之項目： （Ref: 08-01A 第9條第1項）",
    options: [
      "A. 航空器相關資料",
      "B. 火災及消防搶救程序",
      "C. 航空器使用人訓練計畫",
      "D. 人員傷亡名單、航空器及其他損壞資料"
    ],
    answer: "C"
  },
  {
    question: "從事航空器與其發動機、螺旋槳、各項裝備及零組件之維修、預防性維修或重造，無須於維修紀錄記載下列何者？（Ref: 06-01A 第6條第1項）",
    options: [
      "A. 所從事工作及其依據技術資料之說明",
      "B. 工作完成且確認符合技術資料時，授權簽証人員姓名之簽署與檢定證類別及號碼之記載",
      "C. 完工日期",
      "D. 檢驗類別"
    ],
    answer: "D"
  },
  {
    question: "稱特種飛航者，係指： （Ref: 01-01A 第2條第1項第8款）",
    options: [
      "A. 航空器試飛、特技飛航、逾限或故障維護以及運渡等經核准之單次飛航活動",
      "B. 航空器試飛或特技飛航",
      "C. 航空器逾限維護或運渡之飛航",
      "D. 航空器運送VIP之飛航"
    ],
    answer: "A"
  },
  {
    question: "維修不包括： （Ref: 06-01A 第2條第1項第1款）",
    options: ["A. 檢驗、翻修", "B. 預防性維護", "C. 修理、維護", "D. 更換零件"],
    answer: "B"
  },
  {
    question: "下列有關C類檢定證之敘述何者為是： （Ref: 05-01A 第98條之4第1項第4款）",
    options: [
      "A. 全部全對",
      "B. 得簽證基地維修飛機之完工放飛證明",
      "C. 具有A類檢定證之所有權利",
      "D. 得簽證停機線維修飛機之放飛證明"
    ],
    answer: "B"
  },
  {
    question: "對航空產品之製造經審查核准所發給之證書稱為： （Ref: 06-07A 第2條第6款）",
    options: ["A. 技術標準件核准書", "B. 零組件製造者核准書", "C. 類別檢定證", "D. 製造許可證"],
    answer: "D"
  },
  {
    question: "B1、B2或C類機型檢定考試應由何者辦理？",
    options: [
      "A. 民航局、民航局核准之機型培訓機構或民用航空人員訓練機構",
      "B. 民航局核准之機型維修廠",
      "C. 民航局核准之航空器使用人訓練機構",
      "D. 只限民航局"
    ],
    answer: "A"
  },
  {
    question: "對于固定翼航空器，應當在以下位置顯示航空器的國籍和登記標誌： （Ref: 03-05A 第26條第1項第1款）",
    options: ["A. 右機翼上表面", "B. 機翼與尾翼之間的機身兩側", "C. 以上都對", "D. 左機翼下表面"],
    answer: "B"
  },
  {
    question: "當維修過程中發現某種不安全狀況並造成飛安事件，為避免相關情形再度發生，民航局將函發：",
    options: ["A. 維修管理報告", "B. 服務通報", "C. 民航通告", "D. 飛安公告"],
    answer: "D"
  },
  {
    question: "維修廠應人員之訓練紀錄應至少保存___年（題目就是這樣） （Ref: 06-02A 第20條第3項）",
    options: ["A. 2年", "B. 1年", "C. 20年", "D. 5年"],
    answer: "A"
  },
  {
    question: "依據航空器飛航作業管理規則，機務主管需擁有運輸類航空器幾年以上維護經驗？（Ref: 07-02A 第16條第1項第2款）",
    options: ["A. 半年", "B. 1年", "C. 2年", "D. 5年"],
    answer: "D"
  },
  {
    question: "具多發動機並經民航局或原設計國之適航主管機關型別檢定為運輸類之航空器，但不得為特技飛航之航空器稱之為： （Ref: 06-07A 第2條第1項第17款）",
    options: ["A. 通勤類航空器", "B. 特種作業類航空器", "C. 運輸類航空器", "D. 通用類航空器"],
    answer: "C"
  },
  {
    question: "出售或轉讓自航空器與其發動機、螺旋槳、各項裝備及零組件拆下之年限管制件時，應： （Ref: 06-01A 第18條）",
    options: [
      "A. 報請民航局備查後始可移轉",
      "B. 出售或轉讓前先銷毀",
      "C. 不得出售或轉讓",
      "D. 將其標示、適航掛籤或其他紀錄一併移轉"
    ],
    answer: "D"
  },
  {
    question: "飛機應至少配備手斧_____把，供機門或緊急出口無法開啟時砍破機體使用（Ref: 07-02A 第103條）",
    options: ["A. 2", "B. 0", "C. 1", "D. 3"],
    answer: "C"
  },
  {
    question: "管理及輔導民用航空事業的主管單位是： （Ref: 01-01A 第3條）",
    options: ["A. 內政部", "B. 交通部", "C. 航空警察局", "D. 飛安委員會"],
    answer: "B"
  },
  {
    question: "下列何者需要列入維修時間的紀錄： （Ref: 07-02A 第150條第1項第1款；第2條第1項第19款）",
    options: ["A. 引擎總使用時間", "B. 全部皆對", "C. 航空器總飛行時間", "D. 螺旋槳總使用時間"],
    answer: "B"
  },
  {
    question: "A1 及 B1.1 基礎檢定類別為： （Ref: 05-01A 第92條）",
    options: [
      "A. 裝置活塞式發動機之飛機",
      "B. 裝置渦輪發動機之直升機",
      "C. 裝置渦輪發動機之飛機",
      "D. 裝置活塞式發動機之直升機"
    ],
    answer: "C"
  },
  {
    question: "何者文件中規定了在某項儀表或設備發生故障時，航空器仍可執行飛航的條件和限制？（Ref: 07-02A 第2條第1項第36款）",
    options: ["A. MEL", "B. AMM", "C. CMM", "D. IPC"],
    answer: "A"
  },
  {
    question: "初次引進之機型，於核發適航證前，該機型型別檢定證持有人必須取得我國核發之： （Ref: AC 21-003C）",
    options: ["A. 型別認可檢定證", "B. 航空器出口適航證書", "C. 航空器特種適航證書", "D. 航空器國籍登記證書"],
    answer: "A"
  },
  {
    question: "日常維護工作及日常維護簽放紀錄應以不褪色墨汁填寫並應至少保存___年（Ref: 07-02A 第150條第3項）",
    options: ["A. 5", "B. 1", "C. 3", "D. 4"],
    answer: "B"
  },
  {
    question: "主最低裝備需求表(MMEL)是由何單位制定並經民航主管機關核准或認可的文件？",
    options: ["A. 航空器使用人", "B. 工業指導委員會ISC", "C. 維修審查委員會MRB", "D. 航空器製造廠"],
    answer: "D"
  },
  {
    question: "以詐術申請檢定或登記，因而取得航空人員檢定證、體格檢查及格證、航空器登記證書或適航證書者可處多久以下之徒刑？（Ref: 01-01A 第106條）",
    options: ["A. 3年", "B. 10年", "C. 7年", "D. 5年"],
    answer: "D"
  },
  {
    question: "國籍航空器的適航管理主管機關為何？",
    options: ["A. 行政院", "B. 交通部民航局", "C. 飛安委員會", "D. 交通部"],
    answer: "B"
  },
  {
    question: "飛機機體不包括下列何者？（Ref: 01-01A 第2條第1項第22款）",
    options: ["A. 蒙皮", "B. 尾桁", "C. 整流外罩", "D. 螺旋槳"],
    answer: "D"
  },
  {
    question: "特技類航空器之最大起飛重量為何？",
    options: ["A. 280公斤", "B. 15000公斤", "C. 100000公斤", "D. 5700公斤"],
    answer: "D"
  },
  {
    question: "航空器適航檢定維修管理規則為：",
    options: ["A. 05-02A", "B. 06-01A", "C. 05-01A", "D. 06-02A"],
    answer: "B"
  },
  {
    question: "航空產品與各項裝備零組件維修廠設立檢定管理規則為：（Ref: 01-01A 第23條之2第2項）",
    options: ["A. 06-02A", "B. 05-02A", "C. 06-01A", "D. 05-01A"],
    answer: "A"
  },
  {
    question: "航空器產品之設計者應檢附申請書向民航局申請檢定，經檢定合格，發給何種證書？（Ref: 06-07A 第7條第1項）",
    options: ["A. 適航證書", "B. 型別檢定證", "C. 型別檢定證之授權使用文件", "D. 補充型別檢定證"],
    answer: "B"
  },
  {
    question: "申請航空器維修工程師基礎檢定證，其年齡應滿：（Ref: 05-01A 第98條之2第1項）",
    options: ["A. 22歲", "B. 18歲", "C. 16歲", "D. 20歲"],
    answer: "B"
  },
  {
    question: "通勤類航空器之最大起飛重量為何？（Ref: 06-07A 第2條第1項第16款）",
    options: ["A. 9150公斤", "B. 8910公斤", "C. 8640公斤", "D. 8740公斤"],
    answer: "C"
  },
  {
    question: "民航業者在發現未被核准之零件時，為消除飛安上的風險因素，應採取何種措施？（Ref: 06-01A 第22條）",
    options: [
      "A. 只要向製造廠商索賠即可",
      "B. 零件仍可繼續使用，但民航業者須自行負起監控責任",
      "C. 只要報廢該零件即可",
      "D. 要記錄保存佐證文件避免誤用該不合法之零組件"
    ],
    answer: "D"
  },
  {
    question: "維修廠營業不得違反檢定證書與營運規範所登載之____（Ref: 06-02A 第6條）",
    options: ["A. 必檢項目", "B. 營業項目", "C. 維護能力", "D. 檢定類別"],
    answer: "D"
  },
  {
    question: "飛機及直升機維護人員，其檢定類別為：",
    options: [
      "A. A, B1, B2, C 四類",
      "B. A, B, C 三類",
      "C. A, B, C, D 四類",
      "D. A1, A2, B1, B2 四類"
    ],
    answer: "A"
  },
  {
    question: "依據民航法第114條，維修廠對經維修完成之航空產品與其各項裝備及零組件未依其手冊執行完工檢驗，並由合格人員簽證者，處以何種處罰？（Ref: 01-01A）",
    options: [
      "A. 得予警告或處新臺幣1萬元以上3萬元以下罰鍰或情節重大者，廢止其檢定證",
      "B. 得予警告或處新臺幣6千元以上30萬元以下罰鍰或情節重大者，廢止其檢定證",
      "C. 得予警告或處新臺幣6萬元以上10萬元以下罰鍰或情節重大者，廢止其檢定證",
      "D. 得予警告或處新臺幣6萬元以上30萬元以下罰鍰或情節重大者，廢止其檢定證"
    ],
    answer: "D"
  },
  {
    question: "依據民航法第103條，使用未領適航證書之航空器飛航，應處_____年以下有期徒刑、拘役或新台幣100萬元以下罰金（Ref: 01-01A）",
    options: ["A. 一年", "B. 五年", "C. 十年", "D. 二十年"],
    answer: "B"
  },
  {
    question: "高機齡航空器需不用註記甚麼？",
    options: ["A. 引擎總使用時間", "B. 航空使用人", "C. 航空器總飛行時間", "D. （未提供）"],
    answer: "A"
  },
  {
    question: "1. 稱特種飛航者，係指：",
    options: [
      "A. 航空器試飛或特技飛航",
      "B. 航空器逾限維護或運渡之飛航",
      "C. 航空器運送VIP之飛航",
      "D. 航空器試飛、特技飛航、逾限或故障維護以及運渡等經核准之單次飛航活動"
    ],
    answer: "D"
  },
  {
    question: "2. 航空人員基本條件應為：",
    options: [
      "A. 20歲以上",
      "B. 完成國民義務教育以上學歷",
      "C. 中華民國國民，但經交通部核准者，不在此限",
      "D. 全部全不對"
    ],
    answer: "C"
  },
  {
    question:
      "3. 某航空公司之某次班機，客艙均已裝載妥善，飛機亦經檢查裝備妥善，但起飛前發現該機適航證已逾有效期限，則此狀態：",
    options: [
      "A. 可臨時向民航局報備，並經合格之航空工程師檢查簽證後，即可起飛",
      "B. 可延時起飛但須再經檢查妥善並經合格檢機員簽證後起飛",
      "C. 停止起飛",
      "D. 基於國際協約之空中飛航五大自由，仍可按時起飛"
    ],
    answer: "C"
  },
  {
    question: "4. 民用航空器定期檢查之紀錄應：",
    options: [
      "A. 登記於航空器日常維護紀錄簿中",
      "B. 登記於航空器經歷紀錄簿中",
      "C. 以上兩者均須登記",
      "D. 呈報民航局"
    ],
    answer: "C"
  },
  {
    question: "5. 除非經交通部民航局特許，航空器不得載運：",
    options: [
      "A. 信號槍、信號旗、信號燈光設備或禁止載運品",
      "B. 武器、彈藥、爆炸物、毒氣或其他禁止載運品",
      "C. 汽油、液壓油、滑油或其他禁止載運品",
      "D. 牲畜或其他動物"
    ],
    answer: "B"
  },
  {
    question: "6. 民用航空運輸業許可證：",
    options: ["A. 可以移轉", "B. 不得移轉", "C. 航空器移轉時，可以移轉", "D. 經核准後可以移轉"],
    answer: "B"
  },
  {
    question: "7. 民用航空器適航證書之有效期限為：",
    options: ["A. 十四個月", "B. 四十八個月", "C. 十二個月", "D. 三十六個月"],
    answer: "C"
  },
  {
    question: "8. 下列何種人員不需領取民航局發簽之執業證及檢定證：",
    options: ["A. 航空器發派人員", "B. 客艙組員", "C. 飛航管制員", "D. 航空器維修工程師"],
    answer: "B"
  },
  {
    question: "9. 民航定期班機之機艙內艙壓高度規定，高過下列何項時，須持續提供乘客使用氧氣：",
    options: ["A. 高於13000呎", "B. 高於5000呎", "C. 高於8000呎", "D. 高於9000呎"],
    answer: "A"
  },
  {
    question: "10. 根據民用航空器適航檢查給證規則，航空器可分為那幾類：",
    options: [
      "A. 運輸類、通用類、特種作業類、特技類",
      "B. 滑翔類、滑翔翼旋轉類、螺旋槳類、直昇機類",
      "C. 重型航空器、中型航空器、輕型航空器",
      "D. 短程航空器、中程航空器、長程航空器"
    ],
    answer: "A"
  },
  {
    question: "11. 民航法稱飛航，係指航空器自：",
    options: [
      "A. 開始滑行起飛降落全關車間之活動",
      "B. 開始滑行起飛降落滑行至停機位置間之活動",
      "C. 起飛航行至降落間之活動",
      "D. 自客貨登機關機門至飛航後關機門"
    ],
    answer: "B"
  },
  {
    question: "12. 航空器所有權移轉時，依我國法規規定原有適航證書：",
    options: ["A. 不可以隨機移轉", "B. 可以隨機移轉", "C. 視持有之航空器登記證登記別而定", "D. 全部皆非"],
    answer: "A"
  },
  {
    question:
      "13. 每次飛航前填記各項維護檢查情形、缺點及故障改正措施、缺點延遲改正紀錄、各種維護勤務及其他維護事項，並由_____簽證，機長接受後始得飛航。",
    options: [
      "A. 直接從事修護之人員",
      "B. 無適當之航空器維修工程師可由飛航機械員",
      "C. 領有合格證書之負責航空器維修工程師",
      "D. 由維護工作主管人員"
    ],
    answer: "C"
  },
  {
    question: "14. 以強暴、脅迫或其他方法劫持航空器者：",
    options: ["A. 處死刑或無期徒刑或七年以上有期徒刑", "B. 十年以上有期徒刑", "C. 處七年以下有期徒刑", "D. 違警罰鍰"],
    answer: "A"
  },
  {
    question: "15. 某班次飛航，因旅客貨物過多，該公司為求得最高利潤，乃將運費低廉之郵件取出待以後班次運送此行為：",
    options: ["A. 合於規定", "B. 未列入民航法規中故不違法", "C. 不合規定", "D. 全部皆非"],
    answer: "C"
  },
  {
    question: "16. 某乘客因欲向其送行人表答謝意，故於起飛後自客艙內投下紙花，此一友善行動是：",
    options: ["A. 合法的", "B. 違法的", "C. 不關係法律規定，因係人情之常", "D. 他已事先告知駕駛員其行動故不違法"],
    answer: "B"
  },
  {
    question: "17. 外籍自用小型飛機之架設自日本經臺灣飛赴香港：",
    options: [
      "A. 飛航前需向國防部申請飛越並獲得核准",
      "B. 飛航前需向民航局申請飛越並獲得核准",
      "C. 勿需事先申請但需在飛航計劃中註明飛越",
      "D. 勿需事先申請但飛越時需遵規定作無線電聯絡"
    ],
    answer: "B"
  },
  {
    question: "18. 某公司領有貨運適航證書之航空器，因臨時需要加裝座椅改為客運飛航，此種飛航依規定應視為：",
    options: ["A. 未領適航證書飛航", "B. 飛航時航空器應具備之文書不全", "C. 飛航逾適航證書規定", "D. 全部皆非"],
    answer: "C"
  },
  {
    question: "19. 航空器「飛航作業管理規則」規定，何種空運航空器應裝置氣象雷達：",
    options: ["A. 具有加壓艙之航空器", "B. 四具往復式發動機之航空器", "C. 兩具以上渦輪式發動機之航空器", "D. 總重量在12500磅以上之航空器"],
    answer: "A"
  },
  {
    question: "20. 航空器適航證書有下列何情況失效：",
    options: ["A. 有效期間屆滿", "B. 登記證書失效", "C. 航空器不合於適航安全條件時", "D. 全部皆對"],
    answer: "D"
  },
  {
    question: "21. 航空器申請適航證書，應：",
    options: ["A. 先領有登記證書", "B. 勿須領有登記證書", "C. 因係租用，故勿須領有登記證書", "D. 因係才出廠之全新飛機，可直接申請適航證書"],
    answer: "A"
  },
  {
    question: "22. 航空器使用人指以航空器從事飛航作業之：",
    options: ["A. 自然人", "B. 法人", "C. 政府機關", "D. 全部皆對"],
    answer: "D"
  },
  {
    question: "23. 組員指由航空器使用人指派於：",
    options: ["A. 飛航時在航空器內工作之人員", "B. 飛航時在地面工作之人員", "C. 地面時在航空器內工作之人員", "D. 全部皆非"],
    answer: "A"
  },
  {
    question: "24. 下列何者為飛航組員：",
    options: ["A. 航空器駕駛員", "B. 客艙組員", "C. 機械員", "D. 全部皆非"],
    answer: "A"
  },
  {
    question: "25. 何謂飛航時間：",
    options: [
      "A. 航空器為起飛目的，藉其本身動力開始移動時起至著陸後停止移動時止之時間",
      "B. 航空器為起飛目的，起飛離地至著陸後停止移動時止之時間",
      "C. 航空器為起飛目的，藉其本身動力開始移動時起至著陸時之時間",
      "D. 航空器為起飛目的，開始移動時起至停止移動時止之時間"
    ],
    answer: "A"
  },
  {
    question: "26. 何謂使用時間：",
    options: [
      "A. 指航空器起飛離地至降落接觸地面之時間",
      "B. 航空器為起飛目的，藉其本身動力開始移動時起至著陸後停止移動時止之時間",
      "C. 航空器為起飛目的，藉其本身動力開始移動時起至著陸時止之時間",
      "D. 航空器為起飛目的，開始移動時起至停止移動時止之時間"
    ],
    answer: "A"
  },
  {
    question: "27. 何謂大型航空器：",
    options: ["A. 最大起飛重量大於五千公斤之航空器", "B. 最大起飛重量大於五千七百公斤之航空器", "C. 最大起飛重量大於七千七百公斤之航空器", "D. 最大起飛重量大於八千七百公斤之航空器"],
    answer: "B"
  },
  {
    question: "28. 何謂小型航空器：",
    options: [
      "A. 最大起飛重量小於或等於三千七百公斤之航空器",
      "B. 最大起飛重量小於或等於四千七百公斤之航空器",
      "C. 最大起飛重量小於或等於五千七百公斤之航空器",
      "D. 最大起飛重量小於或等於六千七百公斤之航空器"
    ],
    answer: "C"
  },
  {
    question: "29. 運輸業機務主管應具備下列何條件：",
    options: ["A. 運輸類航空器五年以上之維護經驗", "B. 運輸類航空器三年以上之維護經驗", "C. 運輸類航空器一年以上之維護經驗", "D. 全部皆非"],
    answer: "A"
  },
  {
    question: "30. 運輸業品管主管應具備下列何條件：",
    options: [
      "A. 民用航空運輸業或核定合格之航空器維護廠運輸類航空器一年以上之維護經驗，且其中有一年以上維護檢驗員之經驗",
      "B. 民用航空運輸業或核定合格之航空器維護廠運輸類航空器二年以上之維護經驗，且其中有一年以上維護檢驗員之經驗",
      "C. 民用航空運輸業或核定合格之航空器維護廠運輸類航空器三年以上之維護經驗，且其中有一年以上維護檢驗員之經驗",
      "D. 全部皆非"
    ],
    answer: "C"
  },
  {
    question: "31. 運輸業及普通業航空器使用人應依民航局核准之____，始可從事民用航空作業：",
    options: ["A. 適航證", "B. 營運規範", "C. 登記證", "D. 無線電台執照"],
    answer: "B"
  },
  {
    question: "32. 運輸業航空器使用人應訂定各類飛航作業相關人員_____，報請民航局核准後實施：",
    options: ["A. 營運計劃", "B. 升遷計劃", "C. 訓練計劃", "D. 操作計劃"],
    answer: "C"
  },
  {
    question: "33. 運輸業各類飛航作業相關人員訓練計劃應包括：",
    options: ["A. 管理訓練", "B. 品管訓練", "C. 自我督察", "D. 組員資源管理訓練"],
    answer: "D"
  },
  {
    question: "34. 航空器裝載客、貨、郵件飛航時，不得模擬演練緊急或不正常狀況：",
    options: ["A. 是", "B. 否", "C. 視情況", "D. 全部皆非"],
    answer: "A"
  },
  {
    question: "35. 航空器之作業應符合____記載事項：",
    options: ["A. 登記證書", "B. 適航證書", "C. 無線電台執照", "D. 全部皆非"],
    answer: "B"
  },
  {
    question: "36. ____手冊係供機長於航空器之儀表、裝備或系統失效時，決定該航空器飛航前或於中途降落後繼續該航空器飛航之依據(運輸業)：",
    options: ["A. 最低裝備需求", "B. 主最低裝備需求表", "C. 飛行", "D. 操作"],
    answer: "A"
  },
  {
    question: "37. 51~150人座航空器應裝置急救箱數量(運輸業)：",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "B"
  },
  {
    question: "38. 255人座航空器應裝置急救箱數量(運輸業)：",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "C"
  },
  {
    question: "39. 空域之運用及管制區域、限制區、禁航區之劃定，由何單位訂定：",
    options: ["A. 交通部", "B. 國防部", "C. 內政部", "D. 交通部會同國防部"],
    answer: "D"
  },
  {
    question: "40. 外國人除特殊狀況規定外：",
    options: ["A. 僅可登記小型航空器", "B. 可登記輕航空器", "C. 允許登記超輕型航空器", "D. 不可登記航空器"],
    answer: "D"
  },
  {
    question: "41. 航空器欲向民航局申請檢定前應先領有：",
    options: ["A. 無線電執照", "B. 登記證書", "C. 出廠證明", "D. 公司財力證明"],
    answer: "B"
  },
  {
    question: "42. 航空站、飛行場及助航設備四週有礙飛航之建物，如於飛航安全標準公告時已存在者：",
    options: ["A. 不可強制拆除", "B. 要求限期拆除並給予補償", "C. 該標準達意不宜公告", "D. 全部皆非"],
    answer: "B"
  },
  {
    question: "43. 航空器飛航時應具備：",
    options: [
      "A. 登記證書、適航證書、無線電台執照",
      "B. 飛航日誌簿",
      "C. 載客時乘客名單、載貨時貨物及郵件清單",
      "D. 全部皆非"
    ],
    answer: "D"
  },
  {
    question: "44. 民航機場噪音防治工作，由何單位規劃？",
    options: ["A. 環保署", "B. 民航局", "C. 民航局會同環保署", "D. 航空醫務中心"],
    answer: "C"
  },
  {
    question: "45. 乘客於運送中或完成後，與航空器運送人發生糾紛，由誰協助調處？",
    options: ["A. 民航局", "B. 移民局", "C. 海關、航空警察局、機場憲兵隊", "D. 機場憲兵隊"],
    answer: "A"
  },
  {
    question: "46. 按上題，如乘客於調處時，受要求退去而仍滯留於航空器中者，航空器運送人經民航局同意，得請何單位協助或強制乘客離開航空器？",
    options: ["A. 航警局", "B. 憲兵隊", "C. 刑警隊", "D. 調查局"],
    answer: "A"
  },
  {
    question: "47. 政府遇有緊急需要時，民航運輸業應接受何者指揮，辦理支辦運輸事項？",
    options: ["A. 國防部", "B. 總統府", "C. 交通部", "D. 內政部"],
    answer: "C"
  },
  {
    question: "48. 航空器失事致人死傷或財物損失，何者情況須負賠償責任？",
    options: ["A. 故意", "B. 過失", "C. 故意或過失皆須負責", "D. 按國際慣例如非故意不用負責"],
    answer: "C"
  },
  {
    question: "49. 航空器運送遲到而致乘客遭受損失：",
    options: ["A. 航空器運送人應負賠償之責", "B. 如因不可抗力之事由，運送人不用負責", "C. 完全不用負責", "D. 由法院判決"],
    answer: "A"
  },
  {
    question: "50. 航空器未經民航局核准私自攜帶武器、彈藥、爆裂物，其負責人應處_____年以下有期徒刑，拘役或新台幣15萬元以下罰金：",
    options: ["A. 三年", "B. 五年", "C. 八年", "D. 十年"],
    answer: "B"
  },
  {
    question: "51. 使用未領適航證書之航空器飛航，應處_____年以下有期徒刑，拘役或新台幣1百萬元以下罰金：",
    options: ["A. 三年", "B. 五年", "C. 八年", "D. 十年"],
    answer: "B"
  },
  {
    question: "52. 按相對於標準狀況大氣壓換算機艙內之氣壓高度稱為：",
    options: ["A. 艙壓高度", "B. 絕對高度", "C. 飛航高度", "D. 海平面高度"],
    answer: "A"
  },
  {
    question: "53. 航空器裝置之通信設備應能達遇緊急頻率多少百萬赫，以地面或在空機聯絡？",
    options: ["A. 121.7", "B. 121.5", "C. 122.45", "D. 122.55"],
    answer: "B"
  },
  {
    question: "54. 航空器使用人，應訂定_____，報請民航局備查後據以執行航空器之維護：",
    options: ["A. 飛航手冊", "B. 航空器維護能力手冊", "C. 操作手冊", "D. 全部皆非"],
    answer: "B"
  },
  {
    question:
      "55. 運輸業航空器使用人應訂定_____，以確保其所有維護人員接受初始及後續適當的訓練並符合航空器使用人所賦予之職責：",
    options: ["A. 可審度計畫", "B. 維護計畫", "C. 維護人員訓練計畫", "D. 全部皆非"],
    answer: "C"
  },
  {
    question:
      "56. 航空器使用人訂定之維護訓練計畫應包含_____，以提升維護人員間及與飛航組員之協調合作，減少人為因素造成之事故：",
    options: ["A. 組員資源管理訓練", "B. 技術訓練", "C. 工具訓練", "D. 全部皆對"],
    answer: "A"
  },
  {
    question:
      "57. 航空器使用人應建立_____，訂定必需檢驗項目，由訓練合格並經授權之人員，依航空器維護能力手冊之規定執行航空器之維護、翻修及改裝之檢驗工作：",
    options: ["A. 檢驗制度", "B. 考驗制度", "C. 稽核制度", "D. 全部皆對"],
    answer: "A"
  },
  {
    question: "58. 航空器適航之簽證人員，應持有有效之_____，並依航空器維護能力手冊之權限，確實執行各項維護及簽放作業：",
    options: ["A. 技師執照", "B. 航空器維修工程師檢定證書", "C. 簽派員執照", "D. 全部皆對"],
    answer: "B"
  },
  {
    question: "59. 維護簽放紀錄內容應包含：",
    options: ["A. 執行維護工作之依據", "B. 重點摘要", "C. 維護完工日期及簽放人員", "D. 全部皆對"],
    answer: "D"
  },
  {
    question: "60. 日常維護工作及日常維護簽放紀錄應以不褪色墨汁填寫並應至少保存_____個月。",
    options: ["A. 3", "B. 4", "C. 5", "D. 6"],
    answer: "D"
  },
  {
    question: "61. 航空器維護人員執勤時間於連續七日內，應給予連續_______小時之休息，但擔任緊急任務者不在此限。",
    options: ["A. 18", "B. 22", "C. 24", "D. 28"],
    answer: "C"
  },
  {
    question: "62. 麻醉藥物及酒精檢測檢查標準為何：",
    options: [
      "A. 麻醉藥物檢測：尿液樣本反應呈陰性",
      "B. 酒精濃度檢測血液中酒精濃度不得超過百分之零點零四",
      "C. 酒精濃度檢測吐氣中酒精濃度不得超過每公升零點二毫克",
      "D. 全部皆對"
    ],
    answer: "D"
  },
  {
    question: "63. 航空器有下列何情形者為不符合適航條件",
    options: [
      "A. 經民航局或受委託檢查機關、團體檢查認定不符合原檢定時之適航標準者",
      "B. 所有人或使用人不依規定妥善維護或不依民航局或航空器原製造廠所在國民航主管機構發布之適航指令執行",
      "C. 所有人或使用人未經民航局核准自行改變航空器用途、性能、特性者",
      "D. 全部皆對"
    ],
    answer: "D"
  },
  {
    question: "64. 航空器連續停用逾_____日者為不適航",
    options: ["A. 45", "B. 60", "C. 90", "D. 120"],
    answer: "C"
  },
  {
    question: "65. 航空器適航證書失效時其持有人應自失效日起______日內向民航局繳還。",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "B"
  },
  {
    question: "66. 初次申請航空器適航證書，航空器所有人或使用人應於使用前_____日檢具「航空器適航證書申請書向民航局申請",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "C"
  },
  {
    question: "67. 特種適航證書應於有效期限屆滿後_______日內向民航局繳還。",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "B"
  },
  {
    question: "68. 出口適航證書有效期限自發證日起_____日內有效，逾期失效。",
    options: ["A. 30", "B. 60", "C. 90", "D. 120"],
    answer: "C"
  },
  {
    question: "69. 民航局為確保航空器之持續適航標準，當發現航空器、發動機、螺旋槳或各項零組件有不安全情況存在，且其不安全情況並有可能存在於其他相同設計之產品上時，民航局得發布_________，要求執行檢查、修理、修改、更換或限制操作使用。",
    options: ["A. 工程指令", "B. 操作指令", "C. 適航指令", "D. 飛安指令"],
    answer: "C"
  },
  {
    question: "70. 航空器所有人或使用人應對領有______證書之航空器為妥善之維護，並應於飛航前確實遵照規定施行檢查，保持其適航條件。",
    options: ["A. 登記", "B. 適航", "C. 保險", "D. 全部皆對"],
    answer: "B"
  },
  {
    question: "71. 航空器應備有完整之航空器、發動機、螺旋槳______紀錄",
    options: ["A. 使用時間", "B. 所有權轉移", "C. 經歷", "D. 全部皆對"],
    answer: "D"
  },
  {
    question: "72. 經歷紀錄簿之記載，應於各項工作執行後_____日內填記之。",
    options: ["A. 3", "B. 5", "C. 7", "D. 9"],
    answer: "C"
  },
  {
    question: "73. 航空器、發動機或螺旋槳因滅失或毀壞致不能修復、報廢或永久停用時，其經歷紀錄簿應由航空器所有人或使用人自發生之日起保存_______年。",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "B"
  },
  {
    question: "74. 航空器應每_______年接受基本重量平衡之稱重一次",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "C"
  },
  {
    question: "75. 航空器重心位移超過平均氣動力弦之千分之_______時，應予重新稱重。",
    options: ["A. 5", "B. 7", "C. 9", "D. 11"],
    answer: "A"
  },
  {
    question: "76. 下列何者為大改裝",
    options: [
      "A. 影響航空器性能之改裝",
      "B. 影響航空器飛航特性之改裝",
      "C. 影響基本重量平衡之改裝",
      "D. 全部皆對"
    ],
    answer: "D"
  },
  {
    question: "77. 下列何者為大修理",
    options: [
      "A. 影響航空器性能之修理",
      "B. 影響航空器飛航特性之修理",
      "C. 影響基本重量平衡之修理",
      "D. 全部皆對"
    ],
    answer: "D"
  },
  {
    question: "78. 航空器維修工程師執業證書及檢定證申請人之年齡應滿_______歲",
    options: ["A. 16", "B. 18", "C. 21", "D. 23"],
    answer: "B"
  },
  {
    question: "79. 航空器維修廠、所維修員執業證書及檢定證之申請人其年齡應年滿________歲",
    options: ["A. 18", "B. 20", "C. 21", "D. 23"],
    answer: "A"
  },
  {
    question: "80. 下列何者為不適航",
    options: ["A. 機長認為不適航", "B. 民航局檢查員認為不適航", "C. 全部皆對", "D. 全部皆非"],
    answer: "C"
  },
  {
    question: "81. 以詐術申請檢定或登記因而取得航空人員執業證書、檢定證、體格檢查及格證或航空器登記證書或適航證書者，處五年以下有期徒刑、拘役或科或併科新臺幣______萬元以下罰金。",
    options: ["A. 50", "B. 100", "C. 150", "D. 200"],
    answer: "B"
  },
  {
    question: "82. 航空器製造廠或維修廠、所之負責人、受雇人或其他從業人員，因執行業務，以未經檢驗合格之航空器各項裝備及其零組件從事製造、組裝或維修者，處_____年以下有期徒刑、拘役或科或併科新臺幣一百萬元以下罰金。",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "C"
  },
  {
    question: "83. 航空人員因技術上錯誤導致失事或意外事件者，處新臺幣六萬元以上_____萬元以下罰鍰",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "C"
  },
  {
    question: "84. 從事民用航空產品之設計者，須申請取得",
    options: ["A. 適航證", "B. 型別檢定證(TC)", "C. 製造許可證(PC)", "D. 全部皆非"],
    answer: "B"
  },
  {
    question: "85. 已取得型別檢定證之民用航空產品進行重大設計更改者，須申請取得",
    options: ["A. 適航證", "B. 製造許可證(PC)", "C. 補充型別檢定證(STC)", "D. 全部皆非"],
    answer: "C"
  },
  {
    question: "86. 航空器使用人對其航空器，包括航空器機體、發動機、螺旋槳、航空器各項裝備及其零組件負妥善維護之主要責任並保持其適航安全條件。",
    options: ["A. 是", "B. 委託時除外", "C. 全部皆對", "D. 全部皆非"],
    answer: "A"
  },
  {
    question: '87. The term " special flight " refers to',
    options: [
      "A. aircraft test flight or aerobatic flight",
      "B. aircraft maintenance overdue of ferry flight",
      "C. flight carrying VIP passengers",
      "D. approved single flight for the purpose of aircraft functional test, aerobatics, maintenance overdue or release and ferry flight"
    ],
    answer: "D"
  },
  {
    question: "88. The fundamental qualification for an airman is",
    options: [
      "A. not less than 20 years old",
      "B. one who has at least completed national compulsory education (9 the grade)",
      "C. national of the Republic of China except approved by the Ministry",
      "D. none of the above answers is correct"
    ],
    answer: "C"
  },
  {
    question: "89. A flight of a certain carrier has completed preflight preparations, all passengers boarded aircraft, cargo secured in hold, aircraft checked. Before take-off it is discovered that the airworthiness certificate of the aircraft has expired. the flight shall",
    options: [
      "A. proceed for take-off on the condition that CAA is informed of this situation and the aircraft has been inspected and realsed by a qualified engineer",
      "B. be delayed until aircraft has been rechecked and rleased by a qualified mechanic",
      "C. be stopped",
      "D. take-off on schedule because international agreement provides 5 rights of air navigation"
    ],
    answer: "C"
  },
  {
    question: "90. Records of scheduled inspection of aircraft shall",
    options: [
      "A. be entered onto aircraft record book",
      "B. be entered onto power plant record book",
      "C. be entered onto the above mentioned record books",
      "D. be reported to CAA"
    ],
    answer: "B"
  },
  {
    question: "91. Unless approved by CAA, aircraft may not carry or transport",
    options: [
      "A. signal guns, signal flags, signal lights or  dangerous goods",
      "B. weapons, explosives, ammunitions, toxicate gases or other dangerous goods",
      "C. fuel, hydraulic or lubricate oils or other dangerous goods",
      "D. animals"
    ],
    answer: "B"
  },
  {
    question: "92. Airline transport operations permit",
    options: [
      "A. is transferable",
      "B. is not transferable",
      "C. is transferred when aircraft is transferred",
      "D. is transferable after approval"
    ],
    answer: "B"
  },
  {
    question: "93. The validity of an aircraft airworthiness certificate is",
    options: ["A. 24 months", "B. 48 months", "C. 12 months", "D. 36 months"],
    answer: "C"
  },
  {
    question: "94. Which of the following personnel need not to apply for license or rating certificate issued by CAA",
    options: ["A. aircraft dispatch", "B. flight attendant", "C. air traffic controller", "D. ground mechanic"],
    answer: "B"
  },
  {
    question: "95. In accordance with airliner cabin altitude pressure requirement, at (above) what altitude passengers shall be provided with continuous oxygen?",
    options: ["A. 13,000 ft", "B. 5,000 ft", "C. 8,000 ft", "D. 9,000 ft"],
    answer: "A"
  },
{
    question: "96. According aircraft airworthiness certification, they are classified into:",
    options: [
      "A. transport, general aviation, special operations and aerobatic",
      "B. turbine, turbine propeller, propeller and helicopter",
      "C. heavy, middle and light aircraft",
      "D. short range, middle range and long range aircraft"
    ],
    answer: "A"
  },
  {
    question: '97. The term " flight" is defined in the Civil Aviation Law as',
    options: [
      "A. The activities begin at engine start, taxi, take-off till landing and engine shat-off",
      "B. The activities begin at engine start, taxi, take-off till landing and taxi to parking ramp",
      "C. The activities begin at engine start, navigation till landing",
      "D. The activities begin at passengers and cargo loaded and door closed till after flight doors open"
    ],
    answer: "B"
  },
  {
    question: "98. When an aircraft ownership transfers, according to the Republic of China's regulation, the airworthiness certificate of the aircraft",
    options: [
      "A. may not transfer with the aircraft",
      "B. may transfer with the aircraft",
      "C. depending on the type entered in the aircraft registration to decide whether it is transferable",
      "D. The ohter answers are wrong."
    ],
    answer: "A"
  },
  {
    question: "99. Before each flight there should be a complete record of defect and malfunctions corrective actions, record of defects defferred, all kinds of maintenance services and other maintenance events. These records are endorsed by and accepted by the captain before each flight.",
    options: [
      "A. any mechanic who is directly involved in the maintenance work",
      "B. flight engineer when there is no appropriate ground mechanic present",
      "C. licensed responsible mechanic the holder of ground mechanic license and",
      "D. the supervisor or manager"
    ],
    answer: "C"
  },
  {
    question: "100. Use violent force, threat or intimidating act to high-jack a aircraft, the penalty to the culprit is",
    options: [
      "A. sentence to death, indefinite time imprisonment or 7 or more years imprisonment",
      "B. 10 or more years imprisonment",
      "C. 7 years as less imprisonment",
      "D. a fine"
    ],
    answer: "A"
  },
  {
    question: "101. A flight has loaded passenger and cargo to the capacity, and unload some mail to make room for more profit. The act is",
    options: [
      "A. not against any regulation",
      "B. not illegal because it is not stated in aviation law or regulation",
      "C. illegal",
      "D. The ohter answers are wrong."
    ],
    answer: "C"
  },
  {
    question: "102. As a gesture to thank friends seeing him off at the waving deck, the passenger droped streamers from the cabin of the airborne aircraft. The act is",
    options: [
      "A. legal",
      "B. illegal",
      "C. customary human relation and has nothing to do with law",
      "D. not illegal because he has told the pilot"
    ],
    answer: "B"
  },
  {
    question: "103. A foreign small private aircraft intended to depart Japan for Hong Kong fly over Taiwan",
    options: [
      "A. the flight shall request from the Chinese Ministry of Defense's approval of over fly Taiwan in advance",
      "B. the flight shall request the approval from Chinese CAA over fly Taiwan in advance",
      "C. advance request is not necessary but should have so stated in the flight plan",
      "D. advance request is not necessary but should make radio contacts when flying over Taiwan in accordance with regulation"
    ],
    answer: "B"
  },
  {
    question: "104. A company has an aircraft which is issued cargo airworthiness certificate. In the event it is needed to convert into passenger carrying configuration and install seats. The status of the aircraft is considered to be",
    options: [
      "A. the aircraft is operating without airworthiness certificate",
      "B. the aircraft is operating without complete documentation",
      "C. the aircraft is operating in violation of airworthiness requirement",
      "D. The ohter answers are wrong."
    ],
    answer: "C"
  },
  {
    question: '105. Aircraft " flight operations regulations" require what kind of aircraft shall be equipped with weather radar',
    options: [
      "A. aircraft that has pressured cabin",
      "B. aircraft that has 4 reciprocate type engines",
      "C. aircraft that has two or more turbine engines",
      "D. aircraft that has a gross weight over 12,500 lbs"
    ],
    answer: "A"
  },
  {
    question: "106. Under which of the following conditions the airworthiness certificate of an aircraft became in ineffective",
    options: [
      "A. validity expires",
      "B. registration certificate becomes ineffective",
      "C. aircraft does not meet airworthiness requirements",
      "D. The ohter answers are correct."
    ],
    answer: "D"
  },
  {
    question: "107. Aircraft apply for airworthiness certificate",
    options: [
      "A. shall have been issued registration certificate",
      "B. need not to have registration certificate before hand",
      "C. since the aircraft is on lease it is unnecessary to have registration certificate in place",
      "D. apply airworthiness certificate directly since it is brand new out of manufacture company"
    ],
    answer: "A"
  },
  {
    question: "108. Operator of an aircraft is referred to",
    options: ["A. natural person", "B. legal person", "C. government organization", "D. The ohter answers are correct."],
    answer: "D"
  },
  {
    question: "109. Crew is referred to personnel assigned by the operator to work",
    options: [
      "A. on aboard aircraft during flight",
      "B. on ground",
      "C. in aircraft while on ground",
      "D. The ohter answers are wrong."
    ],
    answer: "A"
  },
  {
    question: "110. Which of the following is member of flight crew",
    options: ["A. pilot", "B. flight attendant", "C. engineer", "D. The ohter answers are wrong."],
    answer: "A"
  },
  {
    question: "111. The definition of flying time is",
    options: [
      "A. aircraft for the purpose of take-off and begin to move under its own power till the moment stopped moving after landing",
      "B. aircraft for the purpose of take-off from moment it became airborne till the moment stopped moving after landing",
      "C. aircraft for the purpose of take-off and begin to move under its own power till the moment it touches down",
      "D. aircraft for the purpose of take-off from the moment it begins to move till the moment it stops moving"
    ],
    answer: "A"
  },
  {
    question: '112. The meaning of "time of utilization" is',
    options: [
      "A. the time between aircraft airborne till touch down",
      "B. aircraft for the purpose of take-off, the time it begins to move under its own power till the time it stops moving after landing",
      "C. aircraft for the purpose of take-off and begin to move under its own power till the time of landing",
      "D. aircraft for the purpose of take-off from the moment it begins to move till it stops moving"
    ],
    answer: "A"
  },
  {
    question: "113. Large aircraft refers to",
    options: [
      "A. maximum take-off weight is more than 5,000 kg",
      "B. maximum take-off weight is more than 5,700 kg",
      "C. maximum take-off weight is more than 7,700 kg",
      "D. maximum take-off weight is more than 8,700 kg"
    ],
    answer: "B"
  },
  {
    question: "114. Small aircraft refers to",
    options: [
      "A. maximum take-off weight is 3,700 kg or less",
      "B. maximum take-off weight is 4,700 kg or less",
      "C. maximum take-off weight is 5,700 kg or less",
      "D. maximum take-off weight is 6,700 kg or less"
    ],
    answer: "C"
  },
  {
    question: "115. Air transport operator's aircraft maintenance manager shall have which of the following qualifications",
    options: [
      "A. no less than 5 years experience of maintenance of air transport aircraft",
      "B. no less than 3 years experience of maintenance of air transport aircraft",
      "C. no less than 2 years experience of maintenance of air transport aircraft",
      "D. The ohter answers are wrong."
    ],
    answer: "A"
  },
  {
    question: "116. Air transport operator's quality control manager shall have which of the following qualifications",
    options: [
      "A. No less than one year experience of maintenance work in transport company or rated aircraft maintenance shop on transport category aircraft, and no less than one year experience as maintenance inspector",
      "B. No less than two years experience of maintenance work in transport company or rated aircraft maintenance shop on transport category aircraft, and no less than one year experience as maintenance inspector",
      "C. No less than 3 years experience of maintenance work in transport company or rated aircraft maintenance shop on transport category aircraft, and no less than one year experience as maintenance inspector",
      "D. The ohter answers are wrong."
    ],
    answer: "C"
  },
  {
    question: "117. Air transport and general aviation operators shall apply which of the following documents and only when approval granted by CAA may begin to engage in flight operations",
    options: [
      "A. airworthiness certificate",
      "B. operations specifications",
      "C. registration certificate",
      "D. radio station permit"
    ],
    answer: "B"
  },
  {
    question: "118. An air transport operator shall establish which of the following programs for the flight operations related personnel for CAA's approval and implementation thereafter",
    options: ["A. business operating program", "B. personnel promotion program", "C. training program", "D. operating program"],
    answer: "C"
  },
  {
    question: "119. All flight operations related personnel of an air transport company shall have their training program to include",
    options: [
      "A. management training",
      "B. quality assurance training",
      "C. self disciplinary training",
      "D. crew resource management training"
    ],
    answer: "D"
  },
  {
    question: "120. Aircraft in flight carrying passenger, cargo or mail may not simulate emergency or abnormal situation",
    options: ["A. certainly not", "B. it may", "C. depends on the situation", "D. The ohter answers are wrong."],
    answer: "A"
  },
  {
    question: "121. Operations of aircraft shall comply with",
    options: [
      "A. registration certificate",
      "B. airworthiness certificate",
      "C. radio station operator license",
      "D. The ohter answers are wrong."
    ],
    answer: "B"
  },
  {
    question: "122. Which of the following lists or hand books is provided for the PIC to decide prior to a flight of an air transport aircraft or after landing at a intermediate airport, the flight could be commenced or continued when some instruments, equipment or systems became inoperative.",
    options: [
      "A. the minimum equipment list",
      "B. the primary minimum equipment list",
      "C. the flight handbook",
      "D. the operating handbook"
    ],
    answer: "A"
  },
  {
    question: "123. For 51-150 seats air transport aircraft, it shall be equipped with ____ first aid kits",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "B"
  },
  {
    question: "124. For 255 seats air transport aircraft, it shall be equipped with ____ first aid kits",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "C"
  },
  {
    question: "125. Utilization of air space and delineation of controlled area, restricted area and forbidden area are established by",
    options: [
      "A. Ministry of Transportation and Communications",
      "B. Ministry of National Defense",
      "C. Ministry of Interior",
      "D. Ministry of Transportation and Communications in co-ordination with Ministry of National Defense"
    ],
    answer: "D"
  },
  {
    question: "126. Except special circumstances, aliens in the Republic of China may",
    options: ["A. only own small aircraft", "B. own ultra light aircraft", "C. own light aircraft", "D. Not own aircraft"],
    answer: "D"
  },
  {
    question: "127. Aircraft before applying certification to CAA shall already have had",
    options: ["A. radio certificate", "B. registration certificate", "C. manufacturer's certificate", "D. company financial certificate"],
    answer: "B"
  },
  {
    question: "128. Constructions around airport, airfield or navigation aid installations already existed before the publication of flight safety standards that found these constructions pose hazard to flight safety.",
    options: [
      "A. It may not mandate tear-down of these constructions",
      "B. It may require these constructions be removed within a time france and provide compensation",
      "C. The standards or unconstitutional should not be published",
      "D. The ohter answers are wrong."
    ],
    answer: "B"
  },
  {
    question: "129. During flight aircraft shall carry",
    options: [
      "A. registration certificate, airworthiness certificate, radio station license",
      "B. flight log book",
      "C. passenger's manifest, bill of laden and mail manifest",
      "D. The ohter answers are correct."
    ],
    answer: "D"
  },
  {
    question: "130. Whose responsibility is it to develop airport noise abatement and prevention program",
    options: [
      "A. Environment Protection Administration",
      "B. CAA",
      "C. CAA in coordination with EPA",
      "D. Civil Aeronautics Medical Center"
    ],
    answer: "C"
  },
  {
    question: "131. When dispute arises between the passenger and the air carries, during the progress of transport or at the end of transport, who would be the mediator",
    options: [
      "A. CAA",
      "B. the immigration authority",
      "C. Custom, Bureau of Airport Police, Airport Military Police, Airport Military Police",
      "D. Airport Military Police"
    ],
    answer: "A"
  },
  {
    question: "132. To follow up the above question, if the passenger is not satisfied with the medication and refuses to leave the aircraft. The carrier may request, after obtained CAA consent __________ to persuade or enforce the passenger to leave the aircraft",
    options: [
      "A. Bureau of Aviation Police",
      "B. Military Police",
      "C. Criminal Police Squad",
      "D. Bureau of Investigation"
    ],
    answer: "A"
  },
  {
    question: "133. In case of emergency, air transport operators shall be subjected to the direction of ________ carrying out transportation missions",
    options: [
      "A. Ministry of National Defense",
      "B. The Presidential Office",
      "C. Ministry of Transportation and Communications",
      "D. Ministry of Interior"
    ],
    answer: "C"
  },
  {
    question: "134. In aircraft accident which resulted personnel death or injuries and damage to properties, under what conditions that constitute liability",
    options: [
      "A. intentional",
      "B. mistake",
      "C. intentional or negligently",
      "D. according to international general practice if it is not intentional it is not liable"
    ],
    answer: "C"
  },
  {
    question: "135. When passengers sustained losses because of delay of flight,",
    options: [
      "A. the carrier shall bear liability",
      "B. the carrier bears no liability if the cause of delay was unresistable",
      "C. the carrier bears no responsibility whatsoever",
      "D. it is the court's decision to settle liability"
    ],
    answer: "A"
  },
  {
    question: "136. Without authorization, aircraft carries arms, ammunitions, explosives, the penalty to whoever is responsible would be",
    options: ["A. 3 years in prison", "B. 5 years in prison", "C. 8 years in prison", "D. 10 years in prison"],
    answer: "B"
  },
  {
    question: "137. The penalty for using uncertificated aircraft for flight operations is",
    options: ["A. 3 years in prison", "B. 5 years in prison", "C. 8 years in prison", "D. 10 years in prison"],
    answer: "B"
  },
  {
    question: "138. The pressure altitude of the aircraft cabin derived for relative standard atmosphere pressure is",
    options: ["A. cabin pressure altitude", "B. absolute altitude", "C. flight altitude", "D. sea level altitude"],
    answer: "A"
  },
  {
    question: "139. Communications equipment on board aircraft shall have emergency frequency ______ mHz available for air-ground and air-air contacts",
    options: ["A. 121.7", "B. 121.5", "C. 122.45", "D. 122.55"],
    answer: "B"
  },
  {
    question: "140. Aircraft operator shall establish __________ which is forwarded to CAA for file and basis of conducting aircraft maintenance operations",
    options: [
      "A. flight manual",
      "B. aircraft maintenance capability manual",
      "C. operating manual",
      "D. The ohter answers are wrong."
    ],
    answer: "B"
  },
  {
    question: "141. Aircraft operator shall establish __________ to ensure his maintenance personnel are properly trained, initial and continuous training, to meet the requirement for conducting their duty",
    options: [
      "A. maintenance dependability program",
      "B. maintenance program",
      "C. maintenance personnel training plan",
      "D. The ohter answers are wrong."
    ],
    answer: "C"
  },
  {
    question: "142. The maintenance training program established by the aircraft operator shall include __________ to promote coordination and cooperation between maintenance personnel and flight crew and to reduce any unsafe occurrences because of human errors",
    options: [
      "A. crew resource management program",
      "B. technical training program",
      "C. tool training",
      "D. The ohter answers are correct."
    ],
    answer: "A"
  },
  {
    question: "143. Aircraft operator shall establish a __________ and mandatory inspection items to train and qualify inspection personnel. Upon authorization these personnel will conduct inspections on aircraft maintenance, overhaul or modification in accordance with aircraft maintenance capability manual",
    options: ["A. inspection system", "B. examination system", "C. audit system", "D. The ohter answers are correct."],
    answer: "A"
  },
  {
    question: "144. The person who certifies aircraft airworthiness shall be the holder of __________ to conduct various maintenance works and sign release in accordance with aircraft maintenance capability manual's authorization",
    options: [
      "A. a valid engineer's certificate",
      "B. a valid ground mechanic license and appropriate rating",
      "C. a valid dispatcher's certificate",
      "D. The ohter answers are correct."
    ],
    answer: "B"
  },
  {
    question: "145. Records of maintenance release shall include",
    options: [
      "A. initiation to conduct maintenance",
      "B. summary of maintenance performed",
      "C. maintenance completion date and the person who signed the release",
      "D. The ohter answers are correct."
    ],
    answer: "D"
  },
  {
    question: "146. Records of daily maintenance and routine maintenance release shall be written with indelible ink and kept for at least _____ months",
    options: ["A. 3", "B. 4", "C. 5", "D. 6"],
    answer: "D"
  },
  {
    question: "147. Aircraft maintenance personnel shall get a consecutive _______ hours rest within 7 consecutive days of duty, except when carrying out emergency duties.",
    options: ["A. 18", "B. 22", "C. 24", "D. 28"],
    answer: "C"
  },
  {
    question: "148. Standards for screening intoxicant, drug and alcohol include",
    options: [
      "A. urine specimen test negative",
      "B. blood content of alcohol density less than 0.04﹪",
      "C. breather test alcohol density less than 0.2mg/L",
      "D. The ohter answers are correct"
    ],
    answer: "D"
  },
   {
    question: "149. Which of the following conditions renders an aircraft unairworthy",
    options: [
      "A. inspection conducted by CAA, authorized inspection institute confirms that the aircraft does not meet the standards of original rating",
      "B. the owner or operator has not complied with standing requirement properly maintain the aircraft, or has not satisfactorily completed airworthiness directives issued by CAA or the aviation authority of the country of the original manufacturer of the aircra",
      "C. without CAA approval, the owner or operator changes the purpose, performance, characteristics of the aircraft",
      "D. The ohter answers are correct."
    ],
    answer: "D"
  },
  {
    question: "150. Aircraft stopped operating over __________consecutives days became unairworthy",
    options: ["A. 45", "B. 60", "C. 90", "D. 120"],
    answer: "C"
  },
  {
    question: "151. When an airworthiness certificate expires, the holder shall return the certificate to CAA within _______ days upon its expiry",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "B"
  },
  {
    question: "152. For initial application for aircraft airworthiness certificate, the owner or operator shall present application better ________days in advance to CAA",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "C"
  },
  {
    question: "153. When a special airworthiness certificate expires, it shall be returned to CAA within ______ days",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "B"
  },
  {
    question: "154. Export airworthiness certificate is valid for ________days upon its issuance and nullifies at expiry",
    options: ["A. 30", "B. 60", "C. 90", "D. 120"],
    answer: "C"
  },
  {
    question: "155. In order to maintain continuous airworthiness of aircraft, when CAA finds that any penitential unsafe indications on airframe, power plant, propeller or various parts, components, and similar design, CAA may issue ______ and require inspection, repair, modification, replacement or restriction of operation on the subject product",
    options: [
      "A. Engineering directive",
      "B. Operating directive",
      "C. Airworthiness directive",
      "D. Flight safety directive"
    ],
    answer: "C"
  },
  {
    question: "156. Aircraft owner or operator shall properly maintain the aircraft that has been issued ______ certificate and shall also ensure the continuous airworthiness of the aircraft",
    options: ["A. registration", "B. airworthiness", "C. insurance", "D. The ohter answers are correct."],
    answer: "B"
  },
  {
    question: "157. Aircraft shall have complete airframe, power plant propeller ________ records.",
    options: ["A. hours used", "B. transfer of ownership", "C. history", "D. The ohter answers are correct."],
    answer: "D"
  },
  {
    question: "158. Entries onto aircraft history book shall be done within _______ days after completion of works",
    options: ["A. 3", "B. 5", "C. 7", "D. 9"],
    answer: "C"
  },
  {
    question: "159. The owner or operator shall keep the history book of aircraft, power plant or propeller which are demised, damaged beyond repair, destroyed or permanently discarded for ______ years from the date of the event.",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "B"
  },
  {
    question: "160. Aircraft shall be reweighed when its basic weigh and balance purpose",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "C"
  },
  {
    question: "161. Aircraft shall be reweight when its center of gravity shifted up to ______ of average aerodynamic chord",
    options: ["A. 5", "B. 7", "C. 9", "D. 11"],
    answer: "A"
  },
  {
    question: "162. Which of the following is major modification",
    options: [
      "A. a modification that affects aircraft characterization",
      "B. a modification that affect aircraft performance",
      "C. a modification that affects aircraft basic weight and balance",
      "D. The ohter answers are correct."
    ],
    answer: "D"
  },
  {
    question: "163. Which of the following is major repair",
    options: [
      "A. a repair that affects aircraft characteristics",
      "B. a repair that affects aircraft performance",
      "C. a repair that affects aircraft basic weight and balance",
      "D. The ohter answers are correct."
    ],
    answer: "D"
  },
  {
    question: "164. ground mechanic license and rating applicant shall be no less than _______ years of age",
    options: ["A. 16", "B. 18", "C. 21", "D. 23"],
    answer: "B"
  },
  {
    question: "165. Maintenance personnel for aircraft maintenance shop license and rating applicant shall be no less than ________ years of age",
    options: ["A. 18", "B. 20", "C. 21", "D. 23"],
    answer: "A"
  },
  {
    question: "166. Which of the following conditions is considered on aircraft is not airworthy",
    options: [
      "A. the PIC finds the aircraft is not airworthy",
      "B. CAA inspector considers the aircraft is not airworthy",
      "C. The ohter answers are correct.",
      "D. The ohter answers are wrong."
    ],
    answer: "C"
  },
  {
    question: "167. Obtain airman license, rating , physical certificate, or aircraft registration or airworthiness certificate by means of fraud, for which the penalty is 5 year or less imprisonment or in custody, and fine of no more than NT$_____",
    options: ["A. 50", "B. 100", "C. 150", "D. 200"],
    answer: "B"
  },
  {
    question: "168. Manager-general CEO, employee of aircraft manufacturing company, maintenance shop, engage in manufacturing, assembling or maintenance unauthorized aircraft equipment, parts and components(bogus) to conduct business. The penalty for which is ______ year or less imprisonment and a fine up to NT$1,000,000",
    options: ["A. 1", "B. 2", "C. 3", "D. 4"],
    answer: "C"
  },
  {
    question: "169. Accident or incident causing airman's technical negligence or error, for which the penalty is a fine of NT$60,000 up to NT$_________",
    options: ["A. 10", "B. 20", "C. 30", "D. 40"],
    answer: "C"
  },
  {
    question: "170. Any person who intends to design an aviation product shall apply for _______",
    options: [
      "A. airworthiness certificate",
      "B. type rating certificate",
      "C. manufacturing production certificate",
      "D. The ohter answers are wrong."
    ],
    answer: "B"
  },
  {
    question: "171. Holder type rating certificate, when making major design change aeronautic product, shall apply and obtain ________ - Any person who alters a type certificated aviation product by introducing a major change shall apply for ________",
    options: [
      "A. airworthiness certificate",
      "B. manufacturing production certificate",
      "C. supplemental type certificate",
      "D. The ohter answers are wrong."
    ],
    answer: "C"
  },
  {
    question: "172. It is the aircraft operator's primary responsibility to maintenance the aircraft --- including airframe, power plant, propeller, equipment, parts and component in airworthiness conditions",
    options: [
      "A. yes, it is the operator's responsibility",
      "B. except, when the works are contracted to a third party",
      "C. The ohter answers are correct.",
      "D. The ohter answers are wrong."
    ],
    answer: "A"
  }
  
  


]

               var NAME_STORE_KEY = "147_username_v1";
        function loadSavedName() {
          try {
            var n = localStorage.getItem(NAME_STORE_KEY);
            return (n || "").trim();
          } catch (e) {
            return "";
          }
        }
        function saveName(n) {
          n = (n || "").trim();
          if (!n) return;
          try {
            localStorage.setItem(NAME_STORE_KEY, n);
          } catch (e) {}
        }
        function clearSavedName() {
          try {
            localStorage.removeItem(NAME_STORE_KEY);
          } catch (e) {}
        }

        /* ====== 錯題記憶（離線永久）====== */
        var WRONG_STORE_PREFIX = "147_wrong_v1::";
        var currentUserName = "";
        var wrongSet = {}; // key -> {t,q,a,s}

        function djb2Hash(str) {
          var hash = 5381, i, c;
          for (i = 0; i < str.length; i++) {
            c = str.charCodeAt(i);
            hash = ((hash << 5) + hash) + c;
            hash = hash & 0x7fffffff;
          }
          return hash.toString(16);
        }

        function qKey(q) {
          var base = (q.question || "") + "||" + (q.answer || "") + "||" + (q.options || []).join("||");
          return "q_" + djb2Hash(base);
        }

        function storeKeyByName(name) {
          var n = (name || "").trim();
          if (!n) n = "_guest";
          return WRONG_STORE_PREFIX + n;
        }

        function loadWrongSet(name) {
          try {
            var raw = localStorage.getItem(storeKeyByName(name));
            if (!raw) return {};
            var obj = JSON.parse(raw);
            return (obj && typeof obj === "object") ? obj : {};
          } catch (e) {
            return {};
          }
        }

        function saveWrongSet(name, setObj) {
          try {
            localStorage.setItem(storeKeyByName(name), JSON.stringify(setObj || {}));
          } catch (e) {}
        }

        function wrongCount(setObj) {
          var c = 0, k;
          for (k in setObj) if (setObj.hasOwnProperty(k)) c++;
          return c;
        }

        function safeName(n) {
          n = (n || "").trim();
          return n ? n : "_guest";
        }

        function updateWrongMemInfo() {
          var who = safeName(currentUserName);
          var msg = "【錯題記憶】" + who + " 目前記住 " + wrongCount(wrongSet) + " 題";

          var elW = document.getElementById("wrongMemInfoWelcome");
          if (elW) elW.textContent = msg;

          var elR = document.getElementById("wrongMemInfoResults");
          if (elR) elR.textContent = msg;

          var elP = document.getElementById("wrongMemInfoPanel");
          if (elP) elP.textContent = msg;
        }

        function markWrong(q, selectedText) {
          var k = qKey(q);
          wrongSet[k] = { t: Date.now(), q: q.question, a: q.answer, s: selectedText || "" };
          saveWrongSet(currentUserName, wrongSet);
          updateWrongMemInfo();
        }

        function unmarkWrong(q) {
          var k = qKey(q);
          if (wrongSet[k]) {
            delete wrongSet[k];
            saveWrongSet(currentUserName, wrongSet);
            updateWrongMemInfo();
          }
        }

        function getWrongQuestionsFromBank() {
          return questions.filter(function (q) {
            return !!wrongSet[qKey(q)];
          });
        }

        function formatTimeMs(ms) {
          try { return new Date(ms).toLocaleString(); }
          catch (e) { return String(ms || ""); }
        }

        function renderWrongList() {
          var tb = document.getElementById("wrongListBody");
          if (!tb) return;
          tb.innerHTML = "";

          var wrongQs = getWrongQuestionsFromBank();
          if (!wrongQs.length) {
            var tr0 = document.createElement("tr");
            tr0.innerHTML = '<td class="mono">-</td><td colspan="4">目前沒有錯題記憶 🎉</td>';
            tb.appendChild(tr0);
            return;
          }

          wrongQs.sort(function (a, b) {
            var da = wrongSet[qKey(a)] ? wrongSet[qKey(a)].t : 0;
            var db = wrongSet[qKey(b)] ? wrongSet[qKey(b)].t : 0;
            return db - da;
          });

          wrongQs.forEach(function (q, idx) {
            var rec = wrongSet[qKey(q)] || {};
            var correctText = q.options.find(function (o) { return o.charAt(0) === q.answer; }) || (q.answer || "");
            var tr = document.createElement("tr");
            tr.className = "wrong";
            tr.innerHTML =
              '<td class="mono">#' + (idx + 1) + "</td>" +
              "<td>" + (q.question || "") + "</td>" +
              "<td>" + (rec.s || "") + "</td>" +
              '<td class="mono ans-cell">' + (q.answer + "｜" + correctText) + "</td>" +
              '<td class="mono">' + formatTimeMs(rec.t) + "</td>";
            tb.appendChild(tr);
          });
        }

        /* ====== 工具 ====== */
        function shuffle(array) {
          for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var tmp = array[i]; array[i] = array[j]; array[j] = tmp;
          }
          return array;
        }
        function fmtTime(s) {
          var m = Math.floor(s / 60).toString().padStart(2, "0");
          var sec = (s % 60).toString().padStart(2, "0");
          return m + ":" + sec;
        }

        function setViewClass(idToShow) {
          var ids = ["welcome", "quiz", "results", "bank", "wrongReview"];
          for (var i = 0; i < ids.length; i++) {
            document.body.classList.remove("view-" + ids[i]);
          }
          document.body.classList.add("view-" + idToShow);
        }

        function showView(idToShow) {
          var ids = ["welcome","quiz","results","bank","wrongReview"];
          for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            var el = document.getElementById(id);
            if (!el) continue;
            if (id === idToShow) el.classList.remove("hidden");
            else el.classList.add("hidden");
          }
          setViewClass(idToShow);
          window.scrollTo({ top: 0, behavior: "smooth" });
        }

        /* ====== 深色模式：持久化 ====== */
        var darkBtn = document.getElementById("darkModeToggle");
        function applyInitialTheme() {
          try {
            var saved = localStorage.getItem("theme");
            var isDark = (saved === "dark") || (!saved && window.matchMedia("(prefers-color-scheme: dark)").matches);
            document.body.classList.toggle("dark", isDark);
            darkBtn.setAttribute("aria-pressed", String(isDark));
          } catch (e) {}
          document.documentElement.classList.remove("preload-dark");
        }
        applyInitialTheme();
        darkBtn.addEventListener("click", function () {
          var willDark = !document.body.classList.contains("dark");
          document.body.classList.toggle("dark", willDark);
          darkBtn.setAttribute("aria-pressed", String(willDark));
          try { localStorage.setItem("theme", willDark ? "dark" : "light"); } catch (e) {}
        });

        /* ====== 狀態 ====== */
        var shuffledQuestions;
        var current = 0, total = 0, timer = 80 * 60, interval, answers = [];
        var quizActive = false;
        var progressBar = document.getElementById("progressBar");

        /* ====== 元件 ====== */
        var startBtn = document.getElementById("startBtn");
        var prevBtn = document.getElementById("prevBtn");
        var leaveBtn = document.getElementById("leaveBtn");
        var retryBtn = document.getElementById("retryBtn");
        var showWrongBtn = document.getElementById("showWrongBtn");
        var showAllBtn = document.getElementById("showAllBtn");
        var openBankBtn = document.getElementById("openBankBtn");
        var toBankFromResults = document.getElementById("toBankFromResults");

        var openWrongPanelFromWelcome = document.getElementById("openWrongPanelFromWelcome");
        var openWrongPanelFromResults = document.getElementById("openWrongPanelFromResults");

        var wrongNameInput = document.getElementById("wrongNameInput");
        var wrongQuestionLimit = document.getElementById("wrongQuestionLimit");
        var wrongDurationInput = document.getElementById("wrongDurationInput");
        var startWrongQuizBtn = document.getElementById("startWrongQuizBtn");
        var clearWrongMemBtn = document.getElementById("clearWrongMemBtn");
        var backToWelcomeFromWrong = document.getElementById("backToWelcomeFromWrong");
        var toBankFromWrong = document.getElementById("toBankFromWrong");

        var clearSavedNameBtn = document.getElementById("clearSavedNameBtn");

        var bankBody = document.getElementById("bankBody");
        var bankSearch = document.getElementById("bankSearch");
        var perPageSel = document.getElementById("perPage");
        var pageInfo = document.getElementById("pageInfo");
        var prevPageBtn = document.getElementById("prevPage");
        var nextPageBtn = document.getElementById("nextPage");
        var backToWelcome = document.getElementById("backToWelcome");
        var pagination = document.querySelector("#bank .pagination");

        var durationInput = document.getElementById("durationInput");
        var questionLimitInput = document.getElementById("questionLimit");
        var nameInput = document.getElementById("nameInput");

        var bankFiltered = questions.slice();
        var page = 1;

        function totalPages() {
          var sel = perPageSel.value;
          if (sel === "all") return 1;
          return Math.max(1, Math.ceil(bankFiltered.length / parseInt(sel || "10", 10)));
        }

        /* ====== 姓名記憶 ====== */
        (function applySavedName() {
          var saved = loadSavedName();
          if (saved) {
            if (nameInput) nameInput.value = saved;
            if (wrongNameInput) wrongNameInput.value = saved;
          }
        })();

        if (nameInput) {
          nameInput.addEventListener("input", function () {
            var n = (nameInput.value || "").trim();
            if (n) saveName(n);
          });
        }
        if (clearSavedNameBtn) {
          clearSavedNameBtn.addEventListener("click", function () {
            if (!confirm("確定要清除裝置記住的姓名嗎？")) return;
            clearSavedName();
            if (nameInput) nameInput.value = "";
            if (wrongNameInput) wrongNameInput.value = "";
            alert("已清除記住的姓名");
          });
        }

        /* ====== 錯題畫面入口 ====== */
        function openWrongPanel() {
          if (quizActive) { alert("測驗進行中不可進入錯題記憶畫面。"); return; }

          var n = "";
          if (wrongNameInput && wrongNameInput.value) n = wrongNameInput.value;
          else if (nameInput && nameInput.value) n = nameInput.value;
          else n = loadSavedName();
          n = safeName(n);

          currentUserName = n;
          wrongSet = loadWrongSet(currentUserName);
          updateWrongMemInfo();

          if (wrongNameInput) wrongNameInput.value = currentUserName;
          if (wrongQuestionLimit) wrongQuestionLimit.value = (questionLimitInput && questionLimitInput.value) ? questionLimitInput.value : "";
          if (wrongDurationInput) wrongDurationInput.value = (durationInput && durationInput.value) ? durationInput.value : "80";

          renderWrongList();
          showView("wrongReview");
        }

        if (openWrongPanelFromWelcome) openWrongPanelFromWelcome.addEventListener("click", openWrongPanel);
        if (openWrongPanelFromResults) openWrongPanelFromResults.addEventListener("click", openWrongPanel);

        if (backToWelcomeFromWrong) backToWelcomeFromWrong.addEventListener("click", function () { showView("welcome"); });
        if (toBankFromWrong) toBankFromWrong.addEventListener("click", function () { enterBank(); });

        if (wrongNameInput) {
          wrongNameInput.addEventListener("input", function () {
            var n = safeName(wrongNameInput.value);
            currentUserName = n;
            if (n && n !== "_guest") {
              saveName(n);
              if (nameInput) nameInput.value = n;
            }
            wrongSet = loadWrongSet(currentUserName);
            updateWrongMemInfo();
            renderWrongList();
          });
        }

        if (clearWrongMemBtn) {
          clearWrongMemBtn.addEventListener("click", function () {
            var n = safeName(wrongNameInput ? wrongNameInput.value : currentUserName);
            currentUserName = n;
            if (!confirm("確定要清除【" + currentUserName + "】的錯題記憶嗎？")) return;
            wrongSet = {};
            saveWrongSet(currentUserName, wrongSet);
            updateWrongMemInfo();
            renderWrongList();
            alert("已清除錯題記憶");
          });
        }

        if (startWrongQuizBtn) {
          startWrongQuizBtn.addEventListener("click", function () {
            if (quizActive) { alert("測驗進行中不可開始錯題測驗。"); return; }

            currentUserName = safeName(wrongNameInput ? wrongNameInput.value : currentUserName);
            if (currentUserName && currentUserName !== "_guest") {
              saveName(currentUserName);
              if (nameInput) nameInput.value = currentUserName;
            }

            wrongSet = loadWrongSet(currentUserName);
            updateWrongMemInfo();

            var wrongQs = getWrongQuestionsFromBank();
            if (!wrongQs.length) { alert("目前沒有錯題記憶 🎉"); return; }

            var qLimit = parseInt((wrongQuestionLimit && wrongQuestionLimit.value) ? wrongQuestionLimit.value : "", 10);
            if (!qLimit || qLimit <= 0) qLimit = wrongQs.length;

            var minutes = parseInt((wrongDurationInput && wrongDurationInput.value) ? wrongDurationInput.value : "80", 10);
            if (isNaN(minutes)) minutes = 80;
            minutes = Math.max(1, Math.min(999, minutes));

            shuffledQuestions = shuffle(wrongQs.slice()).slice(0, Math.min(qLimit, wrongQs.length));
            total = shuffledQuestions.length;
            current = 0;
            answers = [];
            timer = minutes * 60;
            quizActive = true;

            document.getElementById("welcomeName").innerText = "錯題測驗: " + currentUserName;
            document.getElementById("total").innerText = total;
            document.getElementById("timer").innerText = fmtTime(timer);
            updateProgress();

            clearInterval(interval);
            interval = setInterval(function () {
              if (timer > 0 && quizActive) {
                timer--;
                document.getElementById("timer").innerText = fmtTime(timer);
              } else if (quizActive && timer <= 0) {
                clearInterval(interval);
                finish();
              }
            }, 1000);

            showQ();
            showView("quiz");
          });
        }

        /* ====== 一般測驗 ====== */
        startBtn.addEventListener("click", function () {
          var n = (nameInput.value || "").trim();
          var qLimit = parseInt((questionLimitInput.value || "").trim(), 10);

          if (!n) {
            var savedN = loadSavedName();
            if (savedN) { n = savedN; nameInput.value = savedN; }
          }
          if (!n) return alert("請輸入姓名 / Enter your name");
          if (!qLimit || qLimit <= 0) return alert("請輸入要作答的題數 / Enter number of questions");

          saveName(n);

          currentUserName = safeName(n);
          wrongSet = loadWrongSet(currentUserName);
          updateWrongMemInfo();

          var minutes = parseInt((durationInput && durationInput.value) ? durationInput.value : "80", 10);
          if (isNaN(minutes)) minutes = 80;
          minutes = Math.max(1, Math.min(999, minutes));

          shuffledQuestions = shuffle(questions.slice()).slice(0, Math.min(qLimit, questions.length));
          total = shuffledQuestions.length;
          current = 0;
          answers = [];
          timer = minutes * 60;
          quizActive = true;

          document.getElementById("welcomeName").innerText = "歡迎: " + currentUserName;
          document.getElementById("total").innerText = total;
          document.getElementById("timer").innerText = fmtTime(timer);
          updateProgress();

          clearInterval(interval);
          interval = setInterval(function () {
            if (timer > 0 && quizActive) {
              timer--;
              document.getElementById("timer").innerText = fmtTime(timer);
            } else if (quizActive && timer <= 0) {
              clearInterval(interval);
              finish();
            }
          }, 1000);

          showQ();
          showView("quiz");
        });

        prevBtn.addEventListener("click", function () {
          if (current > 0) { current--; answers.pop(); showQ(); }
        });

        leaveBtn.addEventListener("click", finish);
        retryBtn.addEventListener("click", function () { location.reload(); });
        showWrongBtn.addEventListener("click", function () { renderResults(answers.filter(function (a) { return !a.correct; })); });
        showAllBtn.addEventListener("click", function () { renderResults(answers); });

        openBankBtn.addEventListener("click", enterBank);
        toBankFromResults.addEventListener("click", enterBank);

        /* ====== 題庫 ====== */
        perPageSel.addEventListener("change", function () { page = 1; renderBank(); });
        bankSearch.addEventListener("input", applyFilter);
        prevPageBtn.addEventListener("click", function () { if (page > 1) { page--; renderBank(); } });
        nextPageBtn.addEventListener("click", function () { if (page < totalPages()) { page++; renderBank(); } });
        backToWelcome.addEventListener("click", function () { showView("welcome"); });

        function enterBank() {
          if (quizActive) { alert("測驗進行中不可瀏覽題庫。"); return; }
          if (!bankSearch.value) { bankFiltered = questions.slice(); page = 1; }
          renderBank();
          showView("bank");
        }

        function applyFilter() {
          var kw = bankSearch.value.trim().toLowerCase();
          bankFiltered = kw
            ? questions.filter(function (q) {
                if (q.question.toLowerCase().indexOf(kw) !== -1) return true;
                for (var i = 0; i < q.options.length; i++) {
                  if (q.options[i].toLowerCase().indexOf(kw) !== -1) return true;
                }
                return false;
              })
            : questions.slice();
          page = 1;
          renderBank();
        }

        function renderBank() {
          bankBody.innerHTML = "";
          var sel = perPageSel.value;
          var per = (sel === "all") ? bankFiltered.length : parseInt(sel || "10", 10);
          var start = (page - 1) * per;
          var items = (sel === "all") ? bankFiltered.slice() : bankFiltered.slice(start, start + per);

          for (var i = 0; i < items.length; i++) {
            var q = items[i];
            var tr = document.createElement("tr");
            var num = (sel === "all") ? (i + 1) : (start + i + 1);
            var correctText = "";
            for (var k = 0; k < q.options.length; k++) {
              if (q.options[k].charAt(0) === q.answer) { correctText = q.options[k]; break; }
            }

            var optsHtml = "";
            for (var j = 0; j < q.options.length; j++) {
              var o = q.options[j];
              var isC = (o.charAt(0) === q.answer);
              optsHtml += '<span class="opt-row ' + (isC ? 'is-correct' : '') + '">' +
                          (isC ? '<span class="ans-chip">正解</span>' : '') +
                          o + '</span>';
            }

            tr.innerHTML =
              '<td class="mono">#' + num + "</td>" +
              "<td>" + q.question + "</td>" +
              "<td>" + optsHtml + "</td>" +
              '<td class="mono ans-cell">' + (q.answer + "｜" + correctText) + "</td>";
            bankBody.appendChild(tr);
          }

          var tp = totalPages();
          if (sel === "all") {
            if (pagination) pagination.style.display = "none";
            pageInfo.textContent = "全部顯示（共 " + bankFiltered.length + " 題）";
            prevPageBtn.disabled = true;
            nextPageBtn.disabled = true;
          } else {
            if (pagination) pagination.style.display = "flex";
            pageInfo.textContent = "第 " + page + " / " + tp + " 頁（共 " + bankFiltered.length + " 題）";
            prevPageBtn.disabled = (page <= 1);
            nextPageBtn.disabled = (page >= tp);
          }
        }

        /* ====== 測驗：出題/進度/結束 ====== */
        function showQ() {
          if (current >= total) return finish();

          document.getElementById("current").innerText = current + 1;
          updateProgress();

          var q = shuffledQuestions[current];
          document.getElementById("questionText").innerText = q.question;

          var optDiv = document.getElementById("options");
          optDiv.innerHTML = "";

          var optionsWithFlag = [];
          for (var i = 0; i < q.options.length; i++) {
            optionsWithFlag.push({ text: q.options[i], isAnswer: q.options[i].charAt(0) === q.answer });
          }
          optionsWithFlag = shuffle(optionsWithFlag);

          for (var j = 0; j < optionsWithFlag.length; j++) {
            (function (opt) {
              var lbl = document.createElement("label");
              var rd = document.createElement("input");
              rd.type = "radio";
              rd.name = "opt";
              rd.value = opt.text;

              rd.onchange = function () {
                var correctText = "";
                for (var k = 0; k < q.options.length; k++) {
                  if (q.options[k].charAt(0) === q.answer) { correctText = q.options[k]; break; }
                }

                if (opt.isAnswer) unmarkWrong(q);
                else markWrong(q, opt.text);

                answers.push({
                  q: q,
                  selectedText: opt.text,
                  correctText: correctText,
                  correct: opt.isAnswer
                });

                current++;
                showQ();
              };

              lbl.appendChild(rd);
              lbl.appendChild(document.createTextNode(" " + opt.text));
              optDiv.appendChild(lbl);
            })(optionsWithFlag[j]);
          }
        }

        function updateProgress() {
          var percent = (current / total) * 100;
          progressBar.style.width = percent + "%";
        }

        function finish() {
          clearInterval(interval);
          quizActive = false;

          showView("results");
          renderResults(answers);

          var right = 0;
          for (var i = 0; i < answers.length; i++) if (answers[i].correct) right++;

          document.getElementById("scoreSummary").innerText =
            "答對 " + right + " 題 / 已作答 " + answers.length + " 題 / 共 " + total + " 題";

          wrongSet = loadWrongSet(currentUserName);
          updateWrongMemInfo();
        }

        function renderResults(data) {
          var tb = document.getElementById("resultsBody");
          tb.innerHTML = "";
          for (var i = 0; i < data.length; i++) {
            var a = data[i];
            var tr = document.createElement("tr");
            tr.innerHTML =
              "<td>" + a.q.question + "</td>" +
              "<td>" + a.selectedText + "</td>" +
              '<td class="ans-cell">' + a.correctText + "</td>" +
              "<td>" + (a.correct ? "O" : "X") + "</td>";
            if (!a.correct) tr.classList.add("wrong");
            tb.appendChild(tr);
          }
        }

        /* ====== 初始化（先用已記住姓名載入錯題數） ====== */
        (function initUser() {
          var saved = loadSavedName();
          currentUserName = safeName(saved || (nameInput ? nameInput.value : ""));
          wrongSet = loadWrongSet(currentUserName);
          updateWrongMemInfo();
          showView("welcome"); // 確保 view class 正確
        })();
      });
    </script>
  </body>
</html>
